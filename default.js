!function($,_){Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null==this)throw TypeError('"this" is null or not defined');var t=Object(this),i=t.length>>>0;if("function"!=typeof e)throw TypeError("predicate must be a function");for(var a=arguments[1],r=0;r<i;){var n=t[r];if(e.call(a,n,r,t))return n;r++}},configurable:!0,writable:!0}),window.Promise||(window.Promise=function(e){this.deferred=$.Deferred(),e(this.deferred.resolve,this.deferred.reject)},Promise.prototype.then=function(e,t){this.deferred.then(e,t)},Promise.prototype["catch"]=function(e){this.then(void 0,e)},Promise.prototype["finally"]=function(e){this.then(function(){e()},function(){e()})}),function(){$(function(){var e,t,a,r,n;return a=0,t=2500,e={error:creatium.l10n("Не удалось отправить форму!"),validate:creatium.l10n("Неправильно заполнены поля:"),interval:creatium.l10n("Пожалуйста, повторите отправку через пару секунд."),required:creatium.l10n("Поле «%field%» обязательно для заполнения."),email:creatium.l10n("Поле «%field%» должно содержать ваш настоящий e-mail адрес."),phone:creatium.l10n("Поле «%field%» должно содержать правильный номер телефона."),number:creatium.l10n("Поле «%field%» должно быть правильным числом.")},n=creatium.l10n("Да"),r=creatium.l10n("Нет"),_.defer(function(){return creatium.init.local(function(o){return o.find("form.form").each(function(){var o,l,s,c,d,u,f,m;return s=$(this),s.on("submit-error",function(){return $(creatium).triggerHandler("submit-error")}),s.on("submit-success",function(){return $(creatium).triggerHandler("submit-success"),creatium.store.set("is_converted",!0)}),d=s.data("form"),u=creatium.closest(s,"[data-item]").data("item"),f=creatium.closest(s,".node.widget-cart").length?creatium.cart.list:null,c=s.data("fields"),[u].concat(f).forEach(function(e){var t,i;if(t=_.filter(e,{type:"price"})[0])return i=_.cloneDeep(t),i.type="price_float",i.value=plp.cart.getPrice(i.value),e.push(i)}),m={hit:{page_id:creatium.page_id,ab_id:creatium.content_id,visit_id:creatium.visit_id,redoken:creatium.redoken,referer:document.referrer,uri:location.pathname+location.search},form:d,item:u||[],items:f||[],fields:c},l=s.find(".field").each(function(e){var t,a,r;if(t=$(this),r=m.fields[e],"radio-list"===r.type&&t.find("input").prop("name",_.uniqueId("radio")),"textarea"===r.type&&t.find("textarea").val(function(e,t){return $.trim(t)}),"file"===r.type)return(a=function(){return t.find(":file").on("change",function(){var e,r;for(r=t.find(":file").closest(".pseudo"),r.clone().insertAfter(r),e=$("<form>"),i=0,attributes=r[0].attributes;i<attributes.length;i++)e.attr(attributes[i].name,attributes[i].value);return e.append(r.children()),e.appendTo("body").hide(),r.remove(),e.ajaxSubmit({beforeSend:function(){return t.find("span.state").text(creatium.l10n("Загрузка..."))},uploadProgress:function(e,i,a,r){return t.find("span.state").text(creatium.l10n("Загрузка...")+" "+r+"%")},success:function(i){return t.data("result",i),t.find("span.state").text(creatium.l10n("Файл загружен")),e.remove(),a()},error:function(i){return creatium.msg_error(creatium.l10n("Ошибка загрузки!"),400===i.status?i.responseText:null),t.find("span.state").text(creatium.l10n("Выберите файл...")),t.data("result",null),e.remove(),a()},dataType:"json"})})})()}),s.find("[data-placeholder]").each(function(){var e,t;return e=$(this),e.attr("placeholder")?e.removeAttr("data-placeholder").data("placeholder",!1):e.val()?(e.data("placeholder",!0),t=e.val(),e.on("focus",function(t){if(e.data("placeholder"))return e.val("").data("placeholder",!1)}),e.on("blur",function(i){if(""===e.val())return e.val(t).data("placeholder",!0)})):void 0}),o=s.find(".submit"),s.on("submit",function(i){var c,u,h,p,v,g;return i.preventDefault(),$.now()-t<a?void creatium.msg_error(e.error,e.interval):(h=[],l.each(function(t){var i;if("checkbox-input"===m.fields[t].type?m.fields[t].value=$(this).find("input").prop("checked")?n:r:"radio-list"===m.fields[t].type?m.fields[t].value=$(this).find("[type=radio]:checked").val()||"":"select-menu"===m.fields[t].type?m.fields[t].value=$(this).find("select").val():"hidden"===m.fields[t].type?(m.fields[t].name=m.fields[t].id,m.fields[t].value=$(this).find("input").val()):"file"===m.fields[t].type?m.fields[t].value=$(this).data("result")||"":(i=$(this).find(".form-control").data("placeholder"),m.fields[t].value=i?"":$(this).find(".form-control").val()),m.fields[t].required&&""===m.fields[t].value&&h.push(e.required.replace("%field%",m.fields[t].name)),""!==m.fields[t].value)return"email"!==m.fields[t].type||/.+@.+\..+/.test(m.fields[t].value)||h.push(e.email.replace("%field%",m.fields[t].name)),"phone"!==m.fields[t].type||/.*\d.*\d.*\d.*\d.*/.test(m.fields[t].value)?void 0:h.push(e.phone.replace("%field%",m.fields[t].name))}),"checkbox"===d.privacy&&(c=s.closest(".body").find(".agreement-checkbox input").prop("checked"),p=d.privacy_checkbox.replace(/[<>]/g,""),c===!1&&h.push(e.required.replace("%field%",p))),h.length>0?(s.trigger("submit-error"),void creatium.msg_error(e.validate,h.join("\n"))):(g={name:"",phone:"",email:"",count:"",fields:{},item:{},send:m,items:[]},_.each(m.fields,function(e){var t;if(""===g[e.type]&&(g[t=e.type]||(g[t]=e.value)),!g.fields[e.name])return g.fields[e.name]=e.value}),_.each(m.item,function(e){var t,i;return(t=g.item)[i=e.type]||(t[i]=_.escape(e.value))}),_.each(m.items,function(e,t){return g.items[t]={},_.each(e,function(e){var i,a,r,n;"amount"===e.type||"photo"===e.type?(i=g.items[t])[r=e.type]||(i[r]=e.value):(a=g.items[t])[n=e.type]||(a[n]=_.escape(e.value))})}),d.payPrice&&!g.items.length&&g.items.push({amount:1,price:d.payPrice,title:d.payTitle}),o.prop("disabled",!0),v=function(t,i,r){var n;return _.defaults(t,g),console.log("Form data",{time:t.time,name:t.name,email:t.email,phone:t.phone,count:t.count,fields:t.fields,item:t.item,items:t.items}),o.prop("disabled",!1),0===t.result?(creatium.msg_error(e.error,t.errors),s.trigger("submit-error")):1===t.result?(creatium.redoken=t.redoken,s.trigger("submit-success"),"msg"===d.after?creatium.msg_success(_.template(d.msg,t),null):"url"===d.after?location.href=_.template(d.url,t):"addhtml"===d.after?$("body").append(_.template(d.addhtml,t)):"pay"===d.after?t.url?location.href=t.url:t.form&&$(t.form).hide().appendTo("body").submit():"msg+url"===d.after?creatium.msg_success(_.template(d.msg,t),null).then(function(){return location.href=_.template(d.url,t)}):"msg+pay"===d.after?creatium.msg_success(_.template(d.msg,t),null).then(function(){return t.url?location.href=t.url:t.form?$(t.form).hide().appendTo("body").submit():void 0}):"msg+addhtml"===d.after?creatium.msg_success(_.template(d.msg,t),null).then(function(){return $("body").append(_.template(d.addhtml,t))}):"js"===d.after&&(n="(function (data) { with (data) {"+d.js+"} })(<%= data %>);",$.globalEval(_.template(n,{data:JSON.stringify(t)})))):(creatium.msg_error(e.error,null),s.trigger("submit-error")),s.trigger("reset").find("[data-placeholder]").data("placeholder",!0),f&&f.length&&creatium.cart.empty(),creatium.modals.hideAll(),a=$.now()},u=function(t,i,r){return s.trigger("submit-error"),o.prop("disabled",!1),creatium.msg_error(e.error,400===t.status?t.responseText:null),a=$.now()},$.ajax("/app/c",{type:"POST",data:JSON.stringify(m),dataType:"json",contentType:"application/json",processData:!1,success:v,error:v})))})})})})})}.call(this),creatium.$=window.$,creatium.VERSION="3.7",creatium.init={queue:[],complete:!1,local:function(e){if(creatium.init.queue.push(e),creatium.init.fired)try{e($(document.body))}catch(t){console.error(t)}},global:function(e){creatium.init.local(function(t){t[0]===document.body&&e(t)})},trigger:function(e){creatium.init.queue.forEach(function(t){try{t($(e))}catch(i){console.error(i)}}),e===document.body&&(creatium.init.fired=!0)}},document.addEventListener("DOMContentLoaded",function(){window.requestAnimationFrame(function(){creatium.async.css.forEach(function(e){var t=document.createElement("link");t.setAttribute("type","text/css"),t.setAttribute("rel","stylesheet"),t.setAttribute("href",e),document.head.appendChild(t)});var e=0;creatium.async.js.forEach(function(t){var i=document.createElement("script");i.onload=function(){e++,e===creatium.async.js.length&&(creatium.async.ready(),setTimeout(function(){creatium.api.init()},1))},i.onerror=i.onload,i.setAttribute("async",""),i.setAttribute("type","text/javascript"),i.setAttribute("src",t),document.head.appendChild(i)}),creatium.init.trigger(document.body),creatium.cdn.init()})}),creatium.async={css:creatium.async.css,js:creatium.async.js,js_adaptive_sections:creatium.async.js_adaptive_sections,loaded:!1,modals:null,cuts:null,init:_.once(function(e){creatium.async.modals=e.modals,creatium.async.cuts=_.map(e.cuts,function(e,t){return{key:t,attached:!1,html:e,placeholder:null,el:null}}),creatium.init.local(function(e){e.find("div[data-cut]").each(function(){var e=this,t=e.getAttribute("data-cut"),i=_.find(creatium.async.cuts,{key:t});i.placeholder=e,creatium.lazy.add($(i.placeholder),function(){if(i.el)var e=i.el;else{var t=$.parseHTML(i.html,null,!0);if(t.length>1)throw new Error("Cut has more than 1 element");var e=t[0]}$(i.placeholder).replaceWith(e),i.attached=!0,creatium.init.trigger(e)})})})}),ready:function e(t){e.list=e.list||[],t instanceof Function?e.fired?t():e.list.push(t):(e.list.forEach(function(e){e()}),e.fired=!0)}},document.addEventListener("DOMContentLoaded",function(e){var t=document.addEventListener;document.addEventListener=function(i,a){return"DOMContentLoaded"!==i?t.apply(this,arguments):void a(e)}}),creatium._async?(creatium.async.init(creatium._async),delete creatium._async):Object.defineProperty(creatium,"_async",{configurable:!0,set:function(e){creatium.async.init(e),delete creatium._async}}),creatium.store={get:function(e){return JSON.parse(localStorage.getItem(e))},set:function(e,t){return localStorage.setItem(e,JSON.stringify(t))}},creatium.syncInterval=function t(e,i){if(t.functions=t.functions||{},t.functions[i])t.functions[i].push(e);else{t.functions[i]=[e];var a=function(){t.functions[i].forEach(function(e){e()}),setTimeout(a,i)};setTimeout(a,i)}},creatium.waitForAppear=function(e,t){creatium.init.local(function(i){var a=i[0];if(e instanceof HTMLElement){for(var r=e;r=r.parentElement;)if(r===a)return void t(e)}else{a.matches(e)&&t(a);var n=a.querySelectorAll(e);n&&Array.prototype.forEach.call(n,t)}})},creatium.watchDom=function(e){for(var t=[e],i=[];t.length>0;){var a=t.shift();if(3===a.nodeType)a.textContent.match(/\{\{.+?\}\}/)&&i.push({node:a,where:"text",template:a.textContent});else if(1===a.nodeType){t=t.concat([].slice.call(a.childNodes));for(var r=a.attributes,n=0;n<a.attributes.length;n++){var o=r.item(n);o.value.match(/\{\{.+?\}\}/)&&i.push({node:a,where:"attribute",attribute:o.name,template:o.value})}}}return i.forEach(function(e){e.evaluates=[],e.template.match(/\{\{.+?\}\}/g).forEach(function(t){var i=t.substring(2,t.length-2),a="with (variables) { return "+i+" }",r=new Function("variables",a);e.evaluates.push({macros:t,fn:r})})}),function(e){i.forEach(function(t){var i=t.template;t.evaluates.forEach(function(t){var a;try{a=t.fn(e)}catch(r){console.error("watchDom Error",r),a=""}i=i.replace(t.macros,a)}),i!==t.last&&(t.last=i,"text"===t.where?t.node.textContent=i:"attribute"===t.where&&t.node.setAttribute(t.attribute,i))})}},creatium.closest=function(e,t){var i=$(e),a=i.closest(t);if(a.length)return a;var r=i.closest(".cr-portal");if(r.length)return creatium.closest(r.data("portal-parent"),t);var n=i.closest(".modal");if(n.length){var o=n.attr("data-uid"),l=$('.modal-link[data-uid="'+o+'"]');return creatium.closest(l,t)}return $()},creatium.l10n=function(e,t){if(t=t||"","ru"===creatium.lang)return e;var i=creatium.l10n.dictionary.find(function(i){return i.original===e&&i.context===t});return i&&i[creatium.lang]?i[creatium.lang]:(console.error("No translation for ",e),e)},creatium.l10n.dictionary=[{original:"Не удалось отправить форму!",context:"",en:"Error sending form","pt-BR":"Erro ao enviar o formulário",es:"Error al enviar el formulario","zh-CN":"发送表格出错",de:"Fehler beim Senden des Formulars",it:"Errore invio modulo",fr:"Erreur lors de l'envoi du formulaire",pl:"Nie udało się wysłać formularza",lt:"Nepasisekė nusiųsti formą!",lv:"Jūsu ziņojums netika nosūtīts!",bg:"Неуспешно изпращане на заявката!",cs:"Chyba při odesílání formuláře",he:"שליחת הטופס נכשלה",el:"Η φόρμα δε στάλθηκε",am:"Հայտն ուղարկված չէ, խնդրում ենք կրկին փորձել",ge:"ფორმა არ გაიგზავნა!",ro:"A apărut o eroare la trimiterea formularului",kz:"Нысаныңыз жіберілмеді",uk:"Помилка надсилання форми"},{original:"Неправильно заполнены поля:",context:"",en:"These fields were not filled in correctly:","pt-BR":"Estes campos não foram preenchidos corretamente:",es:"Estos campos no se han rellenado correctamente:","zh-CN":"以下字段未正确填写：",de:"Diese Felder wurden nicht korrekt ausgefüllt:",it:"Questi campi non sono stati compilati correttamente:",fr:"Ces champs n’ont pas été renseignés correctement :",pl:"Te pola nie zostały poprawnie wypełnione:",lt:"Neteisingai užpildyti laukai:",lv:"Lauks nav aizpildīts vai ir aizpildīts nepareizi:",bg:"Грешно запълнени полета:",cs:"Tato pole nebyla vyplněna správně:",he:"השדות הבאים לא מולאו כהלכה:",el:"Αυτά τα πεδία δε συμπληρώθηκαν σωστά:",am:"Տողերը սխալ են լրացված",ge:"შემდეგი ველები არასწორად არის შევსებული:",ro:"Aceste câmpuri nu au fost completate corect:",kz:"Бұл өрістер дұрыс толтырылмаған:",uk:"Ці поля були заповнені неправильно:"},{original:"Пожалуйста, повторите отправку через пару секунд.",context:"",en:"Please try again in a few seconds.","pt-BR":"Tente novamente em alguns segundos.",es:"Por favor, inténtelo de nuevo dentro de unos segundos.","zh-CN":"请稍后再试",de:"Bitte versuchen Sie es in ein paar Sekunden erneut.",it:"Riprova tra pochi secondi.",fr:"Veuillez réessayer dans quelques secondes.",pl:"Powtórz za parę sekund.",lt:"Prašome pakartoti siuntimą po keletą sekundžių.",lv:"Lūdzu, nosūtiet atkārtoti pēc dažām sekundēm.",bg:"Моля, изпратете отново заявката след няколко секунди.",cs:"Prosím zkuste to znovu za pár vteřin.",he:"נסה שוב בעוד כמה שניות.",el:"Προσπαθήστε ξανά σε μερικά δευτερόλεπτα.",am:"Տողերը սխալ են մուտքագրված: Խնդրում ենք կրկին փորձել մի քանի վարկյանից",ge:"გაიმეორეთ გაგზავნის",ro:"Vă rugăm să încercați din nou peste câteva secunde.",kz:"Бірнеше секундтан кейін қайталап көріңіз.",uk:"Будь ласка, спробуйте ще раз за кілька секунд."},{original:"Поле «%field%» обязательно для заполнения.",context:"",en:'The "%field%" field is required.',"pt-BR":'O campo "%field%" é necessário.',es:"El campo %field% es obligatorio.","zh-CN":"“%field%” 为必填字段。",de:"Das Feld „%field%“ ist ein Pflichtfeld.",it:"Il campo «%field%» è obbligatorio.",fr:"Vous devez remplir le champ « %field% ».",pl:'Pole "%field%" musi być wypełnione.',lt:"Laukas «%field%» būtinas užpildymui.",lv:"Lauks «%field%» jāaizpilda obligāti.",bg:"Полето «%field%» е задължително за запълване.",cs:"Pole „%field%“ je povinné.",he:'השדה "%field%" הוא שדה חובה.',el:"Απαιτείται πεδίο «%field%».",am:"Խնդրում ենք լրացրեք «%field%» տողը, այն պարտադիր է",ge:"ამ ველის «%field%» შევსება აუცილებელია.",ro:"Câmpul „%field%” este obligatoriu.",kz:'"%field%" өрісін толтыру қажет.',uk:"Поле «%field%» є обов'язковим."},{original:"Поле «%field%» должно содержать ваш настоящий e-mail адрес.",context:"",en:'The "%field%" field must contain your actual email address.',"pt-BR":'O campo "%field%" deve conter o seu endereço de e-mail correto.',es:"El campo %field% debe contener su dirección de correo electrónico real.","zh-CN":"“%field%” 字段必须包含真实的电子邮件地址。",de:"Das Feld „%field%“ muss Ihre tatsächliche E-Mail Adresse enthalten.",it:"Il campo «%field%» deve contenere il tuo indirizzo e-mail.",fr:"Le champ « %field% » doit contenir votre adresse e-mail réelle.",pl:'Pole "%field%" musi zawierać Twój adres e-mail.',lt:"Laukas «%field%» turi būti nurodytas jūsų esamas email adresas.",lv:"Laukā «%field%» jābūt Jūsu īstai e-pasta adresei.",bg:"Полето «%field%» трябва да съдържа истинският Ви имейл адрес.",cs:"Pole «%field%» musí obsahovat vaši správnou e-mail adresu.",he:'בשדה "%field%" עליך להזין את כתובת הדוא"ל הפעילה שלך.',el:"Το πεδίο «%field%» πρέπει να περιλαμβάνει την πραγματική διεύθυνση e-mail σας.",am:"Խնդրում ենք «%field%» տողում գրանցել Ձեր իրական էլ. փոստի հասցեն",ge:"ეს ველი «%field%» უნდა შეიცავდეს თქვენი ნამდვილი ელ-ფოსტის მისამართს.",ro:"Câmpul „%field%” trebuie să conțină adresa dvs. e-mail veridică.",kz:'"%field%" өрісінде сіздің нақты э-пошта мекенжайыңыз болуы тиіс.',uk:"Поле «%field%» повинно містити вашу справжню електронну поштову адресу."},{original:"Поле «%field%» должно содержать правильный номер телефона.",context:"",en:'The "%field%" field must contain your correct phone number.',"pt-BR":'O campo "%field%" deve conter um número de telefone válido.',es:"El campo %field% debe contener su numero de teléfono correcto.","zh-CN":"“%field%” 字段必须包含有效的手机号码。",de:"Das Feld „%field%“ muss Ihre richtige Telefonnummer enthalten.",it:"Il campo «%field%» deve contenere il tuo numero di telefono.",fr:"Le champ « %field% » doit contenir un numéro de téléphone valide.",pl:'Pole "%field%" musi zawierać prawidłowy numer telefonu.',lt:"Laukas «%field%» turi būti teisingai nurodytas telefono numeris.",lv:"Laukā «%field%» jānorāda īstais telefona numurs.",bg:"Полето «%field%» задължително трябва да съдържа правилният Ви телефонен номер.",cs:"Pole «%field%» musí obsahovat vaše správné telefonní číslo.",he:'בשדה "%field%" עליך להזין את מספר הטלפון המדויק שלך.',el:"Το πεδίο «%field%» πρέπει να περιέχει τον σωστό αριθμό τηλεφώνου.",am:"Խնդրում ենք «%field%» տողում գրանցել Ձեր ճիշտ հեռախոսահամարը",ge:"ეს ველი «%field%» უნდა შეიცავდეს რეალურად არსებულ ტელეფონის ნომერს.",ro:"Câmpul „%field%” trebuie să conțină numărul dvs. de telefon veridic.",kz:'"%field%" өрісінде дұрыс телефон нөмірі болуы тиіс.',uk:"Поле «%field%» повинно містити ваш правильний номер телефону."},{original:"Поле «%field%» должно быть правильным числом.",context:"",en:'The "%field%" field must be an actual number.',"pt-BR":'O campo "%field%" deve conter um número válido.',es:"El campo %field% debe ser un número real.","zh-CN":"“%field%” 字段必须包含有效的号码。",de:"Das Feld „%field%“ muss eine gültige Zahl sein.",it:"Il campo «%field%» deve contenere un numero.",fr:"Le champ « %field% » doit être un nombre valide.",pl:'Pole "%field%" musi zawierać właściwy numer.',lt:"Laukas «%field%» turu būti nurodytas teisingas skaičius.",lv:"Laukā «%field%» jānorāda tikai cipari.",bg:"Полето «%field%» трябва да съдържа правилно изписано число.",cs:"Pole „%field%“ musí být skutečný počet.",he:'בשדה "%field%" עליך להזין מספר אמיתי.',el:"Το πεδίο «%field%» πρέπει να είναι πραγματικός αριθμός.",am:"Խնդրում ենք «%field%» տողում գրանցել ճիշտ ամսաթիվ",ge:"ამ ველში «%field%» უნდა იყოს სწორი რიცხვი.",ro:"Câmpul „%field%” trebuie să conțină un număr real.",kz:'"%field%" өрісінде нақты сан болуы тиіс.',uk:"Поле «%field%» має бути дійсним числом."},{original:"Товар не найден",context:"",en:"Product not found","pt-BR":"Produto não encontrado",es:"Producto no hallado","zh-CN":"未找到产品",de:"Produkt nicht gefunden",it:"Prodotto non trovato",fr:"Produit non trouvé",pl:"Nie znaleziono produktu",lt:"Товар не найден",lv:"Товар не найден",bg:"Товар не найден",cs:"Produkt nenalezen",he:"המוצר לא נמצא",el:"Το προϊόν δεν βρέθηκε",am:"Товар не найден",ge:"Товар не найден",ro:"Produsul nu a fost găsit",kz:"Өнім табылмады",uk:"Продукт не знайдено"},{original:"Кнопка должна находиться в карточке товара.",context:"",en:"The button should be located on the product card.","pt-BR":"O botão deve estar localizado no cartão do produto.",es:"El botón debería encontrarse en la tarjeta del producto.","zh-CN":"按钮应该位于产品卡上。",de:"Die Schaltfläche sollte sich auf der Produktkarte befinden.",it:"Il pulsante dovrebbe trovarsi sulla scheda del prodotto.",fr:"Le bouton devrait se trouver sur la fiche produit.",pl:"Przycisk powinien znajdować się na karcie produktu.",lt:"Кнопка должна находиться в карточке товара.",lv:"Кнопка должна находиться в карточке товара.",bg:"Кнопка должна находиться в карточке товара.",cs:"Tlačítko by se mělo nacházet na kartě produktu.",he:"הלחצן אמור להופיע בכרטיס המוצר.",el:"Το κουμπί πρέπει να βρίσκεται στην καρτέλα προϊόντος.",am:"Кнопка должна находиться в карточке товара.",ge:"Кнопка должна находиться в карточке товара.",ro:"Butonul ar trebui să fie amplasat pe cardul produsului.",kz:"Түйме өнім карточкасында орналасуы тиіс.",uk:"Кнопка має бути розташована на картці продукту."},{original:"Количество",context:"",en:"Quantity","pt-BR":"Quantidade",es:"Cantidad","zh-CN":"数量",de:"Menge",it:"Quantità",fr:"Quantité",pl:"Ilość",lt:"Количество",lv:"Количество",bg:"Количество",cs:"Množství",he:"כמות",el:"Ποσότητα",am:"Количество",ge:"Количество",ro:"Cantitate",kz:"Саны",uk:"Кількість"},{original:"Добавлено в корзину!",context:"",en:"Added to cart!","pt-BR":"Adicionado ao carrinho!",es:"¡Se ha añadido al carrito!","zh-CN":"已加至购物车！",de:"Zum Warenkorb hinzugefügt!",it:"Aggiunto al carrello!",fr:"Ajouté au panier !",pl:"Dodano do koszyka!",lt:"Добавлено в корзину!",lv:"Добавлено в корзину!",bg:"Добавлено в корзину!",cs:"Přidáno do košíku!",he:"נוסף לעגלה!",el:"Προστέθηκε στο καλάθι!",am:"Добавлено в корзину!",ge:"Добавлено в корзину!",ro:"Adăugat în coș!",kz:"Себетке қосылды!",uk:"Додано до кошику!"},{original:"ОК",context:"",en:"OK","pt-BR":"OK",es:"Vale","zh-CN":"确定",de:"OK",it:"OK",fr:"OK",pl:"OK",lt:"OK",lv:"OK",bg:"OK",cs:"OK",he:"אישור",el:"ΟΚ",am:"OK",ge:"OK",ro:"Ok",kz:"OK",uk:"ОК"},{original:"Открыть корзину",context:"По клику появляется окошко с корзиной. То есть тут не переход на новую страницу, а показ окна.",en:"View cart","pt-BR":"Ver carrinho",es:"Ver carrito","zh-CN":"查看购物车",de:"Warenkorb anzeigen",it:"Guarda il carrello",fr:"Voir le panier",pl:"Wyświetl koszyk",lt:"Открыть корзину",lv:"Открыть корзину",bg:"Открыть корзину",cs:"Zobrazit košík",he:"הצג עגלה",el:"Προβολή καλαθιού",am:"Открыть корзину",ge:"Открыть корзину",ro:"Vizualizare coș",kz:"Себетті көру",uk:"Переглянути кошик"},{original:"Да",context:"",en:"Yes","pt-BR":"Sim",es:"Sí","zh-CN":"是",de:"Ja",it:"Sì",fr:"Oui",pl:"Tak",lt:"Да",lv:"Да",bg:"Да",cs:"Ano",he:"כן",el:"Ναι",am:"Да",ge:"Да",ro:"Da",kz:"Иә",uk:"Так"},{original:"Нет",context:"",en:"No","pt-BR":"Não",es:"No","zh-CN":"否",de:"Nein",it:"No",fr:"Non",pl:"Nie",lt:"Нет",lv:"Нет",bg:"Нет",cs:"Ne",he:"לא",el:"Όχι",am:"Нет",ge:"Нет",ro:"Nu",kz:"Жоқ",uk:"Ні"},{original:"Загрузка...",context:"С компьютера на сервер",en:"Loading...","pt-BR":"Carregando...",es:"Cargando...","zh-CN":"载入中…",de:"Wird geladen ...",it:"Caricamento...",fr:"Chargement...",pl:"Ładowanie...",lt:"Загрузка...",lv:"Загрузка...",bg:"Загрузка...",cs:"Načítání...",he:"טוען...",el:"Φόρτωση...",am:"Загрузка...",ge:"Загрузка...",ro:"Încărcare...",kz:"Жүктелуде...",uk:"Завантаження..."},{original:"Файл загружен",context:"",en:"File loaded","pt-BR":"Arquivo carregado",es:"Archivo cargado","zh-CN":"文件已载入",de:"Datei geladen",it:"File caricato",fr:"Fichier chargé",pl:"Załadowano plik",lt:"Файл загружен",lv:"Файл загружен",bg:"Файл загружен",cs:"Soubor načten",he:"הקובץ נטען",el:"Έγινε φόρτωση αρχείου",am:"Файл загружен",ge:"Файл загружен",ro:"Fișierul a fost încărcat",kz:"Файл жүктелді",uk:"Файл завантажено"},{original:"Ошибка загрузки!",context:"",en:"Loading error","pt-BR":"Erro ao carregar",es:"Error de carga","zh-CN":"载入出错",de:"Fehler beim Laden",it:"Errore di caricamento",fr:"Erreur de chargement",pl:"Błąd podczas ładowania",lt:"Ошибка загрузки!",lv:"Ошибка загрузки!",bg:"Ошибка загрузки!",cs:"Chyba při načítání",he:"שגיאת טעינה",el:"Σφάλμα φόρτωσης",am:"Ошибка загрузки!",ge:"Ошибка загрузки!",ro:"Eroare la încărcare",kz:"Жүктеу қателігі",uk:"Помилка завантаження"},{original:"Выберите файл...",context:"",en:"Select a file...","pt-BR":"Selecione um arquivo...",es:"Seleccionar un archivo...","zh-CN":"选择一个文件…",de:"Wählen Sie eine Datei ...",it:"Seleziona un file...",fr:"Sélectionnez un fichier...",pl:"Wybierz plik...",lt:"Выберите файл...",lv:"Выберите файл...",bg:"Выберите файл...",cs:"Vyber soubor...",he:"בחר קובץ...",el:"Επιλέξτε ένα αρχείο...",am:"Выберите файл...",ge:"Выберите файл...",ro:"Selectaţi un fişier...",kz:"Файлды таңдаңыз...",uk:"Оберіть файл..."}],creatium.modals={list:[],isChild:function(e,t){var i=t.data("modal"),a=i.$parent;return!!a.length&&(a[0]===e[0]||creatium.modals.isChild(e,a))},attach:function(e){var t=e.data("modal");t.attached||(t.$parent=creatium.closest(t.$el.parent(),".modal"),t.$node=creatium.closest(t.$el,".node"),t.$section=creatium.closest(t.$el,".node.section"),t.$el.before('<span class="modal-link" data-uid="'+t.uid+'"></span>'),t.$el.appendTo(".area-wrapper"),t.$el.html(creatium.async.modals[t.uid]),t.$el.css("display","block"),creatium.init.trigger(t.el),t.$el.css("display",""),t.$back=t.$el.children(".modal-back"),t.$dialog=t.$el.children(".modal-dialog"),t.$root=t.$el.find("[cr-modal-root]").filter(function(){return $(this).closest(".modal")[0]===t.$el[0]}).first(),t.$spacer=t.$el.find("[cr-modal-spacer]").filter(function(){return $(this).closest(".modal")[0]===t.$el[0]}).first(),t.$arrow=t.$el.find("[cr-modal-arrow]").filter(function(){return $(this).closest(".modal")[0]===t.$el[0]}).first(),t.$close=t.$el.find("[cr-modal-close]").filter(function(){return $(this).closest(".modal")[0]===t.$el[0]}),t.$close.on("click",function(){creatium.modals.hide(t.$el)}),t.$el.on("click",function(e){0===$(e.target).closest(t.$dialog).length&&creatium.modals.hide(t.$el)}),t.$parent&&t.$parent.on("hide",function(){creatium.modals.hide(t.$el)}),t.attached=!0)},show:function(e,t){var i=e.data("modal");if(!creatium.api.initialized)return void $(creatium).on("api-init",function(){creatium.modals.show(e,t)});if(creatium.modals.attach(e),i.$el.triggerHandler("before-show"),i.api_prevent===!0)return void delete i.api_prevent;i.$root.hasClass("is-hiding")&&i.$el.triggerHandler("force-hide"),i.$button=t;var a=_.last(creatium.modals.list);creatium.modals.list.push(i),i.zindex=a?a.zindex+1:810,e.addClass("active").css("z-index",i.zindex),"popover"!==i.type&&($(creatium.scroll.snapping?".area-wrapper":"body").css("overflow","hidden"),i.$back.fadeIn(i.duration)),setTimeout(function(){i.$root.addClass("is-active"),setTimeout(creatium.lazy.update,i.duration)},1),i.$section.off("fixation-change.modals").on("fixation-change.modals",creatium.modals.reposition),creatium.modals.reposition(),i.$el.triggerHandler("show"),$(creatium).triggerHandler("api-popup-show",[i])},showById:function(e){creatium.modals.show($('.modal[data-id="'+e+'"]:first'))},hide:function(e){if(void 0===e)var t=_.last(creatium.modals.list);else var t=creatium.modals.list.find(function(t){return t.$el[0]===e[0]});if(t){if(t.$el.triggerHandler("before-hide"),t.api_prevent===!0)return void delete t.api_prevent;creatium.modals.list=_.without(creatium.modals.list,t),t.$root.addClass("is-hiding"),t.$back.fadeOut(t.duration);var i=function(){if(t.$el.removeClass("active"),t.$root.removeClass("is-active is-hiding"),"popover"!==t.type){var e=creatium.modals.list.filter(function(e){return"popover"!==e.type});0===e.length&&$(creatium.scroll.snapping?".area-wrapper":"body").css("overflow","")}clearTimeout(a),t.$el.off("force-hide",i)};t.$el.on("force-hide",i);var a=setTimeout(i,t.duration);t.$el.triggerHandler("hide"),$(creatium).triggerHandler("modal-hide",[t]),$(creatium).triggerHandler("api-popup-hide",[t])}},reposition:function(){var e=window.innerWidth,t=window.innerHeight;creatium.modals.list.forEach(function(i){if(i.attached){if("sidemenu"===i.type){var a=i.$spacer.outerHeight(),r=i.$dialog.outerHeight();r<t?(a+=t-r,i.$spacer.height(a)):r>t&&a>20&&(a-=r-t,a<20&&(a=20),i.$spacer.height(a))}if("popover"===i.type){var n=i.$button.offset();i.$section.hasClass("fixed")?(i.$el.css("position","fixed"),i.$el.css("top",n.top-$(document).scrollTop()+i.$button.outerHeight())):(i.$el.css("position","absolute"),i.$el.css("top",n.top+i.$button.outerHeight())),i.$el.css("margin-left",n.left+i.$button.outerWidth()/2-i.$el.outerWidth()/2);var o=i.$dialog.offset().left,l=i.$dialog.outerWidth();if(o<0){var s=o-10;i.$el.css("margin-left","-="+s),i.$arrow.css("margin-left",2*s)}else if(o+l>e){var s=o+l-e+10;i.$el.css("margin-left","-="+s),i.$arrow.css("margin-left",2*s)}else i.$arrow.css("margin-left",0)}}})},hideAll:function(){for(;creatium.modals.list.length;)creatium.modals.hide()}},creatium.init.local(function(e){e.find(".modal").each(function(){var e=$(this),t={uid:e.attr("data-uid"),type:e.attr("data-type"),duration:1*e.attr("data-duration"),trigger:e.attr("data-trigger"),el:e[0],$el:e,zindex:null,parent:null,$button:null,$back:null,$dialog:null,$root:null,$spacer:null,$arrow:null,$close:null,$parent:null,$section:null,attached:!1};e.data("modal",t)}),e.find(".btn[data-modal], .btn-meta[data-modal], .btn-modal[data-modal]").each(function(){var e=$(this),t=e.attr("data-modal"),i=e.closest(".node");i.hasClass("widget-field")&&(i=i.closest(".node[data-form]"));var a=i.find('.modal[data-name="'+t+'"]').data("modal");a.$el.on("show",function(){e.addClass("active")}).on("hide",function(){e.removeClass("active")}),creatium.lazy.add(e,function(){if("popover"===a.type&&"hover"===a.trigger){var t=!1;e.on("mouseenter touchstart",function(i){e.hasClass("active")||(t="touchstart"===i.type,creatium.modals.show(a.$el,e))}),e.on("click",function(i){return t?(t=!1,void i.stopPropagation()):void(e.hasClass("active")||(setTimeout(function(){creatium.modals.show(a.$el,e)},1),i.preventDefault()))})}else e.on("click",function(t){e.hasClass("active")||(setTimeout(function(){creatium.modals.show(a.$el,e)},1),t.preventDefault())})})})}),creatium.init.global(function(){var e=location.href.match(/#modal-([a-z0-9]+)/);e&&creatium.modals.showById(e[1]),$(document).on("click",'a[href*="#modal-"]',function(e){if(!e.isDefaultPrevented()){var t=$(this).attr("href").match(/#modal-([a-z0-9]+)/);t&&creatium.modals.showById(t[1])}}),$(document).on("click",'.btn[data-action="close"], .btn-meta[data-action="close"]',function(e){var t=creatium.closest(this,".modal");creatium.modals.hide(t)}),$(document).keyup(function(e){27===e.keyCode&&creatium.modals.hide()}),$(document).on("click",function(e){var t=$(e.target);0!==creatium.modals.list.length&&creatium.modals.list.forEach(function(e){if("popover"===e.type){if(t.closest(e.$dialog).length)return;var i=t.closest(".modal");if(i.length&&creatium.modals.isChild(e.$el,i))return;var a=".swal-overlay, .fancybox-container";if(t.closest(a).length)return;creatium.modals.hide(e.$el)}})}),$(document).on("mousemove",function(e){var t=$(e.target);0!==creatium.modals.list.length&&creatium.modals.list.forEach(function(e){if("popover"===e.type&&"hover"===e.trigger){if(t.closest(e.$button).length)return;var i=t.closest(".modal");if(i.length&&creatium.modals.isChild(e.$el,i))return;if(t.closest(e.$el).length)return;creatium.modals.hide(e.$el)}})}),$(document).off("click.fb-start"),setTimeout(function t(){creatium.modals.reposition(),setTimeout(t,500)},100)}),creatium.cart={list:creatium.store.get("cart")||[]},creatium.cart.getPrice=function(e){var t=e.match(/\d/g);if(!t)return 0;var i=e.indexOf(t[0]),a=e.lastIndexOf(t[t.length-1]),r=(e[i],e[a],"-"===e[i-1]?-1:1),n=e.substring(i,a+1);n=n.replace(/[^\d\.\,]+/g,"");var o=n.indexOf(".")>=0,l=n.indexOf(",")>=0;if(o||l){var t=n.match(/(.+)[\,\.](\d\d)$/);if(t)var s=1*t[1].replace(/[\,\.]/g,""),c=1*("0."+t[2]),d=s+c;else var d=1*n.replace(/[\,\.]/g,"")}else var d=1*n;return d*r},creatium.cart.getCurrency=function(e){var t=e.match(/\d/g);if(!t)return"%s%";e=e.replace(/\&nbsp\;/g," ");var i=e.match(/[\:\-]/);i&&(e=e.replace(/.*[\:\-]\s*(.*)/,"$1"));var a=e.indexOf(t[0]),r=e.lastIndexOf(t[t.length-1]),n=(e[a],e[r],e.substring(a,r+1));return e.replace(n,"%s%")},creatium.cart.add=function(e,t){
var i=_.filter(e,{type:"title"})[0],a=_.filter(e,{type:"price"})[0],r=_.filter(e,{type:"amount"})[0],n=(_.filter(e,{type:"photo"})[0],null);return t!==!0&&_.each(creatium.cart.list,function(e,t){var o=_.filter(e,{type:"title"})[0],l=_.filter(e,{type:"price"})[0],s=_.filter(e,{type:"amount"})[0];i.value===o.value&&a.value===l.value&&(s.value+=1*r.value,n=e)}),null===n&&(creatium.cart.list.push(e),$(creatium).triggerHandler("api-cart-item-add",[e])),$(creatium).triggerHandler("cart-change"),n||e},creatium.cart.remove=function(e){creatium.cart.list.splice(creatium.cart.list.indexOf(e),1),$(creatium).triggerHandler("api-cart-item-remove",[e]),$(creatium).triggerHandler("cart-change")},creatium.cart.setAmount=function(e,t){if(0===t)return creatium.cart.remove(e);var i=_.filter(e,{type:"amount"})[0];i.value=t,$(creatium).triggerHandler("cart-change")},creatium.cart.empty=function(){creatium.cart.list.splice(0,creatium.cart.list.length),$(creatium).triggerHandler("cart-change")},creatium.init.global(function(){$(creatium).on("cart-change",function(){creatium.store.set("cart",creatium.cart.list)}),$(document.body).on("click",'[data-action="addtocart"]',function(e){var t=$(e.currentTarget),i=t.closest("[data-item]");if(!i.length){var a=t.closest(".modal");if(a.length){var r=a.attr("data-uid"),n=$('.modal-link[data-uid="'+r+'"]');i=n.closest("[data-item]")}}if(!i.length)return void creatium.msg_error(creatium.l10n("Товар не найден"),creatium.l10n("Кнопка должна находиться в карточке товара."));var o=_.cloneDeep(i.data("item")),l=i.find('[data-role="setamount"]');if(l.length)var s={name:creatium.l10n("Количество"),type:"amount",value:1*l.val()||1};else var s={name:creatium.l10n("Количество"),type:"amount",value:1};if(o.push(s),!i.find('[data-role="image"]').length){var c=_.filter(o,{type:"photo"})[0];c.value=!1}creatium.cart.add(o),creatium.msg_success(creatium.l10n("Добавлено в корзину!"),null,{button:creatium.l10n("ОК"),content:{element:"a",attributes:{href:"/cart",innerText:creatium.l10n("Открыть корзину")}}})})}),creatium.isRetina=function(){if("boolean"==typeof creatium.isRetina.cache)return creatium.isRetina.cache;if(window.devicePixelRatio>1)creatium.isRetina.cache=!0;else{var e="(-webkit-min-device-pixel-ratio: 1.5), (min--moz-device-pixel-ratio: 1.5), (-o-min-device-pixel-ratio: 3/2), (min-resolution: 1.5dppx)";window.matchMedia&&window.matchMedia(e).matches?creatium.isRetina.cache=!0:creatium.isRetina.cache=!1}return creatium.isRetina.cache},creatium.lazy={_observer:window.IntersectionObserver?new IntersectionObserver(function(e){e.forEach(function(e){e.isIntersecting&&creatium.lazy.trigger(e.target)})},{}):{observe:function(e){creatium.lazy.trigger(e)},unobserve:function(e){}},add:function(e,t){e.each(function(){var e=$(this);void 0===e.data("lazy-state")?e.addClass("lazy").data("lazy-cb",function(){try{t(e)}catch(i){console.error(i)}}).data("lazy-state","wait"):creatium.lazy.then(e,t),creatium.lazy._observer.observe(this)})},then:function(e,t){e.each(function(){var e=$(this);"done"!==e.data("lazy-state")?e.one("lazy-trigger",function(){t(e)}):t(e)})},trigger:function(e){creatium.lazy._observer.unobserve(e);var t=$(e);t.hasClass("lazy")!==!1&&(t.removeClass("lazy"),t.data("lazy-cb")instanceof Function&&(t.data("lazy-cb")(t),t.triggerHandler("lazy-trigger"),t.data("lazy-state","done")))},force:function(e){e=e||$(".area"),e.find(".lazy").each(function(){creatium.lazy.trigger(this)})},_toMagic:function(e){var t=e.w<<16|e.h<<2|e.c,i=e.b<<16|e.q<<6,a=t.toString(29),r=i.toString(29),n=+t.toString().substring(0,1)+ +i.toString().substring(0,1);return n.toString(29)+a+r+(a.length.toString(29)+r.length.toString(29))},_isScaleImage:function(e){return!/.+\.gif$/.test(e)&&(!!/\/\/u\d*\.platformalp\.ru/.test(e)||(!!/\/\/u\d*\.filesonload\.ru/.test(e)||(!!/\/\/u\d*\.plpstatic\.ru/.test(e)||(!!/\/\/f\d*\.\w{0,2}.?lpcdn\.site/.test(e)||(!!/\/\/i\.\d+\.creatium\.io/.test(e)||!!/\/\/app\.creatium\.app/.test(e))))))},_getScaleImageUrl:function(e,t){creatium.isRetina()&&t.retina&&(t.width2*=2,t.height2*=2);var i=t.width1,a=t.height1;t.width2>i&&(t.height2=i/t.width2*t.height2,t.width2=i),t.height2>a&&(t.width2=a/t.height2*t.width2,t.height2=a),e.indexOf(".creatium.io/")<0&&e.indexOf(".vejio.su/")<0&&(e=e.replace("platformalp.ru","plpstatic.ru"),e=e.replace("filesonload.ru","plpstatic.ru"));var r=Math.round(t.width2||0),n=Math.round(t.height2||0),o=t.quality||8;if(e.indexOf(".svg")>0)var l=r+"x"+n;else var l=r+"x"+n+"q"+o; if (e.indexOf('creatium.') > 0) { return e.replace(/(.+)\/(.+)/, "$1/" + l + "/$2")} else { return e.replace(/(.+?.\w+)\/(.+)/, "$1/s/" + creatium.lazy._toMagic({h: n, w: r}) + "/$2")}  }},creatium.init.local(function(e){e.find('a[href*="filesonload.ru"]').each(function(){$(this).attr("href",$(this).attr("href").replace("filesonload.ru","plpstatic.ru"))}),e.find('img[src*="filesonload.ru"]').each(function(){$(this).attr("src",$(this).attr("src").replace("filesonload.ru","plpstatic.ru"))}),creatium.lazy.add(e.find("[data-lazy-iframe]"),function(e){e.attr("src",e.attr("data-lazy-iframe")),e.removeAttr("data-lazy-iframe"),e.addClass("lazy-loading"),e.on("load",function(){e.removeClass("lazy-loading"),e.trigger("lazyload")}).on("error",function(){e.removeClass("lazy-loading"),e.trigger("lazyerror")})}),creatium.lazy.add(e.find("[data-lazy-image]"),function(e){var t=e.attr("data-lazy-image");if(creatium.lazy._isScaleImage(t)&&"true"!==e.attr("data-lazy-image_noscale")){var i=e.attr("data-lazy-image_size").split(","),a={retina:"true"!==e.attr("data-lazy-image_nohd"),width1:1*i[0],width2:1*i[0],height1:1*i[1],height2:1*i[1],quality:1*e.attr("data-lazy-image_quality")},r=e.attr("data-lazy-image_detect");if("xs"===creatium.screen){var n=e.attr("data-lazy-image_detect-xs");n&&(r=n)}if("css-width"===r)a.width2=e.width(),a.width2<a.width1&&(a.height2=a.width2/a.width1*a.height1);else if("css-width-height"===r)a.width2=e.width(),a.height2=e.height();else if("css-max-height"===r){var o=parseInt(e.css("max-height"));a.height1>o?(a.height2=o,a.width2=o/a.height1*a.width1):e.css("max-height",a.height2)}else if("css-max-width-max-height"===r){var l=parseInt(e.css("max-width")),s=parseInt(e.css("max-height"));a.width2>l&&(a.width2=l,a.height2=l/a.width1*a.height1),a.height2>s&&(a.width2=s/a.height2*a.width2,a.height2=s),a.width2<l&&e.css("max-width",a.width2),a.height2<s&&e.css("max-height",a.height2)}else if("css-width-max-height"===r){a.width2=e.width(),a.width2<a.width1&&(a.height2=a.width2/a.width1*a.height1);var s=parseInt(e.css("max-height"));a.height2>s?a.height2=s:e.css("max-height",a.height2)}else"fill-width"===r&&(a.width2=e.parent().width(),a.height2=a.width2/a.width1*a.height1);t=creatium.lazy._getScaleImageUrl(t,a)}e.data(),e.removeAttr("data-lazy-image"),e.removeAttr("data-lazy-image_size"),e.removeAttr("data-lazy-image_detect"),e.removeAttr("data-lazy-image_nohd"),e.removeAttr("data-lazy-image_noscale"),e.addClass("lazy-loading"),$("<img>").attr("src",t).on("load",function(){e.attr("src",t),e.removeClass("lazy-loading"),e.trigger("lazyload")}).on("error",function(){e.removeClass("lazy-loading"),e.trigger("lazyerror")})}),creatium.lazy.add(e.find("[data-lazy-bgimage]"),function(e){var t=e.attr("data-lazy-bgimage");if(creatium.lazy._isScaleImage(t)&&"true"!==e.attr("data-lazy-bgimage_noscale")){var i=e.attr("data-lazy-bgimage_size").split(","),a={retina:"true"!==e.attr("data-lazy-bgimage_nohd"),width1:1*i[0],width2:1*i[0],height1:1*i[1],height2:1*i[1],quality:1*e.attr("data-lazy-bgimage_quality")},r=e.get(0).clientWidth,n=e.get(0).clientHeight,o=e.css("background-size");"cover"===o?(a.width1>r&&(a.width2=r,a.height2=r/a.width1*a.height1),a.height2<n&&(a.height2=n,a.width2=n/a.height1*a.width1)):"contain"===o&&(a.width2>r&&(a.width2=r,a.height2=r/a.width1*a.height1),a.height2>n&&(a.height2=n,a.width2=n/a.height1*a.width1));var t=creatium.lazy._getScaleImageUrl(t,a)}e.data(),e.removeAttr("data-lazy-bgimage"),e.removeAttr("data-lazy-bgimage_size"),e.removeAttr("data-lazy-bgimage_nohd"),e.removeAttr("data-lazy-bgimage_noscale"),e.addClass("lazy-loading"),$("<img>").attr("src",t).on("load",function(){e.css("background-image",'url("'+t+'")'),e.removeClass("lazy-loading"),e.trigger("lazyload")}).on("error",function(){e.removeClass("lazy-loading"),e.trigger("lazyerror")})}),creatium.lazy.add(e.find("[data-lazy-all], .lazy-all"),function(e){creatium.lazy.force(e)}),$(window).on("load",function(){location.href.indexOf("debug-nolazyforce=1")>0||creatium.syncInterval(function(){var e=5,t=$(".lazy-loading[data-lazy-bgimage], .lazy-loading[data-lazy-image]");if(t.length<e){var i=e-t.length,a=$(".lazy[data-lazy-bgimage]:visible, .lazy[data-lazy-image]:visible").slice(0,i);a.each(function(){creatium.lazy.trigger(this)})}},250)})}),creatium.init.global(function(){creatium.msg_error=function(e,t,i){return new Promise(function a(r,n){window.swal?r(swal(_.extend(i||{},{title:e,text:t||null,icon:"error",className:"swal-modal--error"})).then(function(){$(creatium).triggerHandler("msg-close")})):setTimeout(function(){a(r,n)},50)})},creatium.msg_success=function(e,t,i){return new Promise(function a(r,n){window.swal?r(swal(_.extend(i||{},{title:e,text:t||null,icon:"success",className:"swal-modal--success"})).then(function(){$(creatium).triggerHandler("msg-close")})):setTimeout(function(){a(r,n)},50)})},creatium.msg_info=function(e,t,i){return new Promise(function a(r,n){window.swal?r(swal(_.extend(i||{},{title:e,text:t||null,icon:"info",className:"swal-modal--info"})).then(function(){$(creatium).triggerHandler("msg-close")})):setTimeout(function(){a(r,n)},50)})}}),creatium.init.local(function(e){e.find("[data-ym_goal]").each(function(){var e=$(this),t=_.uniqueId("goal"),i=e.data("ym_goal"),a=function(){_.each(_.keys(window),function(e){0===e.indexOf("yaCounter")&&window[e].reachGoal(i)})};e.on("click",function(){var i=e.hasClass("submit")&&e.find(":submit").length,r="send"===e.attr("data-action");i||r?$(this).closest("form.form, [data-form]").off("."+t).one("submit-success."+t,function(){a()}):a()})}),e.find("[data-ga_category]").each(function(){var e=$(this),t=_.uniqueId("goal"),i=e.data("ga_action"),a=e.data("ga_category"),r=function(){window.ga&&ga("send","event",a,i),window.gtag&&gtag("event","generate_lead",{event_category:a,event_action:i})};e.on("click",function(){var i=e.hasClass("submit")&&e.find(":submit").length,a="send"===e.attr("data-action");i||a?$(this).closest("form.form, [data-form]").off("."+t).one("submit-success."+t,function(){r()}):r()})})}),function(){var antiflood={last:0,interval:2500},language={error:creatium.l10n("Не удалось отправить форму!"),validate:creatium.l10n("Неправильно заполнены поля:"),interval:creatium.l10n("Пожалуйста, повторите отправку через пару секунд."),required:creatium.l10n("Поле «%field%» обязательно для заполнения."),email:creatium.l10n("Поле «%field%» должно содержать ваш настоящий e-mail адрес."),phone:creatium.l10n("Поле «%field%» должно содержать правильный номер телефона."),number:creatium.l10n("Поле «%field%» должно быть правильным числом."),yes:creatium.l10n("Да"),no:creatium.l10n("Нет")};creatium.init.local(function($root){$root.find('.btn[data-action="send"], .btn-meta[data-action="send"]').each(function(){var e=$(this),t=e.closest("[data-form]");t.length&&(e.on("click",function(){t.trigger("submit")}),t.data("isquiz")===!1&&(t.on("submit",function(){e.prop("disabled",!0)}),t.on("submit-success submit-error submit-prevent",function(){e.prop("disabled",!1)})))}),$root.find(".node[data-form]").each(function(){var $form=$(this);$form.data("api-isQuiz",$form.data("isquiz")),$form.data("api-name",$form.data("form").name),$form.data("api-errors",[]),creatium.lazy.add($form,function($form){$form.find(".widget-field").each(function(){creatium.lazy.trigger(this)}),$form.on("submit-error",function(){$(creatium).triggerHandler("submit-error")}),$form.on("submit-success",function(e,t,i){$(creatium).triggerHandler("submit-success"),$(creatium).triggerHandler("api-form-submit",[$form,t,i]),creatium.store.set("is_converted",!0)}),$form.on("keyup",function(e){"TEXTAREA"!==e.target.tagName&&13===e.keyCode&&$form.trigger("submit")});var fields=[],errors=[],variables={};$form.on("input change",function(){fields=[],errors=[],variables={},$form.data("api-errors",errors),$form.data("api-$fields",$()),$form.find(".widget-field").each(function(){var $field=$(this);if($field.closest("[data-form]")[0]===$form[0]){$form.data("api-$fields",$form.data("api-$fields").add($field));var api_value=null;$field.data("api-value",api_value),$field.data("api-disabledByCondition",!0);var vals=$field.find(".metahtml").data("vals"),is_hidden=!1;if($field.data("api-disabledManually"))is_hidden=!0;else if(vals.condition)try{var scope=_.extend({round:Math.round,min:Math.min,max:Math.max,ceil:Math.ceil,floor:Math.floor,pow:Math.pow,abs:Math.abs,random:Math.random},variables),__condition=vals.condition;with(scope)is_hidden=!eval(__condition)}catch(e){console.error("Condition error",e),is_hidden=!1}if(is_hidden&&!$field.hasClass("is-hidden")&&($field.addClass("is-hidden"),$field.triggerHandler("api-disable")),!is_hidden&&$field.hasClass("is-hidden")&&($field.removeClass("is-hidden"),$field.triggerHandler("api-enable")),is_hidden)return void(vals.variable&&(variables[vals.variable]=0));$field.data("api-disabledByCondition",!1);var $slide=$field.closest(".widget-form2 .swiper-slide");if($slide.length){var $slides=$slide.parent().children(),fieldSlideIndex=$slide.index(),activeSlideIndex=$slides.filter(".swiper-slide-active").index();if(activeSlideIndex<0&&(activeSlideIndex=0),fieldSlideIndex>activeSlideIndex)return}var field={name:vals.text,type:vals.type,required:vals.required,id:vals.id,value:null};if("textarea"===vals.type)field.value=$field.find("textarea").val(),api_value=field.value,vals.required&&!field.value&&errors.push(["required",field.name]),vals.variable&&(variables[vals.variable]=field.value);else if("text"===vals.type)field.value=$field.find("input").val(),api_value=field.value,vals.required&&!field.value&&errors.push(["required",field.name]),vals.variable&&(variables[vals.variable]=field.value);else if("name"===vals.type)field.value=$field.find("input").val(),api_value=field.value,vals.required&&!field.value&&errors.push(["required",field.name]),vals.variable&&(variables[vals.variable]=field.value);else if("phone"===vals.type)field.value=$field.find("input").val(),api_value=field.value,vals.required&&!field.value&&errors.push(["required",field.name]),field.value&&!/.*\d.*\d.*\d.*\d.*/.test(field.value)&&errors.push(["phone",field.name]),vals.variable&&(variables[vals.variable]=field.value);else if("email"===vals.type)field.value=$field.find("input").val(),api_value=field.value,vals.required&&!field.value&&errors.push(["required",field.name]),field.value&&!/.+@.+\..+/.test(field.value)&&errors.push(["email",field.name]),vals.variable&&(variables[vals.variable]=field.value);else if("count"===vals.type)field.value=1*$field.find("input").val()||0,api_value=field.value,vals.required&&!field.value&&errors.push(["required",field.name]),vals.variable&&(variables[vals.variable]=field.value);else if("slider"===vals.type)field.value=1*$field.find("input").val()||0,api_value=field.value,vals.variable&&(variables[vals.variable]=field.value);else if("checkbox-list"===vals.type||"checkbox-visual"===vals.type){field.value=[],api_value={};var indexes=[];$field.find("input[type=checkbox]").each(function(e){var t=$(this).prop("checked"),i=vals.list[e].text;t&&(field.value.push(i),indexes.push(e)),api_value[i]=t}),field.value=field.value.join(", "),vals.required&&!field.value&&errors.push(["required",field.name]),vals.variable&&(variables[vals.variable]=0,indexes.forEach(function(e){variables[vals.variable]+=1*vals.list[e].value||0}))}else if("checkbox-input"===vals.type){var checked=$field.find("input[type=checkbox]").prop("checked");vals.required&&!checked&&errors.push(["required",field.name]),field.value=checked?language.yes:language.no,api_value=checked,vals.variable&&(variables[vals.variable]=1*(checked?vals.valueOn:vals.valueOff)||0)}else if("privacy-checkbox"===vals.type){var checked=$field.find("input[type=checkbox]").prop("checked");vals.required&&!checked&&errors.push(["required",vals.privacy_checkbox.replace(/[<>]/g,"")]),field.value=checked?language.yes:language.no,api_value=checked,vals.variable&&(variables[vals.variable]=1*(checked?vals.valueOn:vals.valueOff)||0)}else if("radio-list"===vals.type||"radio-visual"===vals.type){var index=$field.find("input").index($field.find("input:checked"));index>=0?(field.value=vals.list[index].text,api_value=field.value):(field.value="",api_value=null,vals.required&&errors.push(["required",field.name])),vals.variable&&(index>=0?variables[vals.variable]=vals.list[index].value:variables[vals.variable]=0)}else if("select-menu"===vals.type){var val=$field.find("select").val();if(""!==val){var index=1*val;field.value=vals.list[index].text,api_value=field.value}else api_value=null;vals.required&&!field.value&&errors.push(["required",field.name]),vals.variable&&(index>=0?variables[vals.variable]=vals.list[index].value:variables[vals.variable]=0)}else if("file"===vals.type)field.value=$field.data("result"),api_value=[field.value]||null,vals.required&&!field.value&&errors.push(["required",field.name]);else if("hidden"===vals.type)field.value=$field.find("input").val(),api_value=field.value;else if("hackable"===vals.type){var hackable_value=$field.find("[cr-field]").attr("data-value");"number"===vals.typing?(api_value=1*hackable_value||0,field.value=api_value):"boolean"===vals.typing?(api_value="1"===hackable_value||"true"===hackable_value,field.value=hackable_value?language.yes:language.no):(api_value=hackable_value,field.value=hackable_value),vals.required&&!field.value&&errors.push(["required",field.name]),vals.variable&&("boolean"===vals.typing?variables[vals.variable]=1*(api_value?vals.valueOn:vals.valueOff)||0:variables[vals.variable]=api_value)}else if("result"===vals.type){var _result=0;try{var scope=_.extend({round:Math.round,min:Math.min,max:Math.max,ceil:Math.ceil,floor:Math.floor,pow:Math.pow,abs:Math.abs,random:Math.random},variables),__formula=vals.formula;with(scope)_result=eval(__formula);"number"==typeof _result&&(_result=parseFloat(_result.toFixed(2))),"undefined"==typeof _result&&(_result=0),_.isNaN(_result)&&(_result=0)}catch(e){console.error("Error in formula",e),_result=0}field.value=vals.format.replace("%result%",_result),api_value=_result,$field.find("[cr-field-result]").text(field.value),vals.variable&&(variables[vals.variable]=_result)}else{if("html"===vals.type){var scope=_.cloneDeep(variables),template=$field.data("template");return template||(template=_.template(vals.template),$field.data("template",template)),void $field.find("[cr-field-template]").html(template(scope))}if("privacy-button"===vals.type)return;if("privacy-text"===vals.type)return;if("cont"===vals.type)return}fields.push(field);var api_validations=$field.data("api-validations")||[];api_validations.forEach(function(e){e.cb(api_value)===!1&&errors.push(["custom",e.message])}),_.isEqual($field.data("api-value"),api_value)||($field.data("api-value",api_value),$field.triggerHandler("api-change"))}}),errors=errors.map(function(e){return"custom"===e[0]?e[1]:language[e[0]].replace("%field%",e[1])})}),$form.trigger("input"),$form.on("reset",function(){$form.triggerHandler("input")}),$form.on("validate",function(e,t){$form.trigger("input"),errors.length>0?($form.trigger("submit-error"),creatium.msg_error(language.validate,errors.join("\n"))):t()}),$form.on("submit",function(e){if(e.stopPropagation(),$form.triggerHandler("input"),errors.length>0)return $form.trigger("submit-error"),void creatium.msg_error(language.validate,errors.join("\n"));if($form.data("isquiz")){var t=$form.find("[cr-form-container]").first().find("> .swiper-wrapper > .swiper-slide");if(t.filter(".swiper-slide-next").length)return void $form.trigger("slidenext")}if($.now()-antiflood.interval<antiflood.last)return void creatium.msg_error(language.error,language.interval);var i=$form.data("form"),a=creatium.closest($form,".node.widget-cart").length?creatium.cart.list:null,r=creatium.closest($form,"[data-item]").data("item");[r].concat(a).forEach(function(e){var t=_.filter(e,{type:"price"})[0];if(t){var i=_.cloneDeep(t);i.type="price_float",i.value=creatium.cart.getPrice(i.value),e.push(i)}}),$(creatium).triggerHandler("api-before-form-submit",[$form,fields]);var n={hit:{page_id:creatium.page_id,ab_id:creatium.content_id,visit_id:creatium.visit_id,redoken:creatium.redoken,referer:document.referrer,uri:location.pathname+location.search},form:_.extend(i,{name:$form.data("api-name")}),item:r||[],items:a||[],fields:fields};if($form.data("api-prevent")===!0)return $form.data("api-prevent",!1),void $form.triggerHandler("submit-prevent");var o=function(e,t,o){if(0===e.result)$form.trigger("submit-error"),creatium.msg_error(language.error,e.errors);else if(1===e.result){creatium.redoken=e.redoken,$form.triggerHandler("api-submit",[e.order_id,fields]),$form.triggerHandler("submit-success",[e.order_id,fields]);var l={name:"",phone:"",email:"",count:"",fields:{},item:{},send:n,items:[]};if(_.each(fields,function(e){""===l[e.type]&&(l[e.type]=e.value),l.fields[e.name]||(l.fields[e.name]=e.value)}),_.each(r,function(e){l.item[e.type]||(l.item[e.type]=_.escape(e.value))}),_.each(a,function(e,t){l.items[t]={},_.each(e,function(e){if(!l.items[t][e.type]){var i;i="amount"===e.type||"photo"===e.type?e.value:_.escape(e.value),l.items[t][e.type]=i}})}),_.extend(l,e),console.log("Form data",l),"msg"===i.after)creatium.msg_success(_.template(i.msg,l));else if("url"===i.after)location.href=_.template(i.url,l);else if("addhtml"===i.after)$("body").append(_.template(i.addhtml,l));else if("pay"===i.after)e.url?location.href=e.url:e.form&&$(e.form).hide().appendTo("body").submit();else if("msg+url"===i.after){var s=function(){location.href=_.template(i.url,l)};creatium.msg_success(_.template(i.msg,l)).then(function(){"stepwise"===i.sequence&&s()}),"simultaneous"===i.sequence?s():"delayed3sec"===i.sequence?setTimeout(s,3e3):"delayed5sec"===i.sequence?setTimeout(s,5e3):"delayed10sec"===i.sequence&&setTimeout(s,1e4)}else if("msg+pay"===i.after){var s=function(){e.url?location.href=e.url:e.form&&$(e.form).hide().appendTo("body").submit()};creatium.msg_success(_.template(i.msg,l)).then(function(){"stepwise"===i.sequence&&s()}),"simultaneous"===i.sequence?s():"delayed3sec"===i.sequence?setTimeout(s,3e3):"delayed5sec"===i.sequence?setTimeout(s,5e3):"delayed10sec"===i.sequence&&setTimeout(s,1e4)}else if("msg+addhtml"===i.after){var s=function(){$("body").append(_.template(i.addhtml,l))};creatium.msg_success(_.template(i.msg,l)).then(function(){"stepwise"===i.sequence&&s()}),"simultaneous"===i.sequence?s():"delayed3sec"===i.sequence?setTimeout(s,3e3):"delayed5sec"===i.sequence?setTimeout(s,5e3):"delayed10sec"===i.sequence&&setTimeout(s,1e4)}else"js"===i.after&&(jscode="(function (data) {with (data) {"+i.js+"}})(<%= data %>);",$.globalEval(_.template(jscode,{data:JSON.stringify(l)})));$form.trigger("reset"),a&&a.length&&creatium.cart.empty(),creatium.modals.hideAll(),send_last=$.now()}else $form.trigger("submit-error"),creatium.msg_error(language.error)};$.ajax("/app/c",{type:"POST",data:JSON.stringify(n),dataType:"json",contentType:"application/json",processData:!1,success:o,error:o})})})})})}(),creatium.init.local(function a(e){return window.particlesJS?void e.find(".bg_particles").each(function(){var e=$(this),t=e.data("config");e.removeAttr("data-config"),e.empty(),particlesJS(e.get(0),t)}):setTimeout(function(){a(e)},50)}),creatium.init.global(function(){var e=$(".section.fixation-top").first().not("."+creatium.screen+"-hidden");if(e.length){var t=!1,i=$("<div></div>"),a=e.attr("data-opacity");if(creatium.scroll.snapping)return e.css("opacity",a),e.addClass("fixed"),void e.triggerHandler("fixation-change");var r=function(){if(t)i[0].getBoundingClientRect().top>=0&&(i.remove(),e.css("opacity",1),e.removeClass("fixed"),e.triggerHandler("fixation-change"),t=!1);else if(e[0].getBoundingClientRect().top<0){var r=e[0].offsetHeight;i.css("height",r).insertAfter(e),e.css("opacity",a),e.addClass("fixed"),e.triggerHandler("fixation-change"),e.find(".lazy").on("lazyload",function(){if(t){var a=e[0].offsetHeight;r!==a&&(r=a,i.css("height",r))}}),t=!0}};$(document).on("scroll",r),r()}}),creatium.init.global(function(){var e=$(".section.fixation-bottom").first().not("."+creatium.screen+"-hidden");if(e.length){var t=!1,i=$("<div></div>"),a=e.attr("data-opacity");if(creatium.scroll.snapping)return e.css("opacity",a),e.addClass("fixed"),void e.triggerHandler("fixation-change");var r=e.nextAll(".section").not("."+creatium.screen+"-hidden").first().is(".section-helper"),n=function(){if(t)!r&&i[0].getBoundingClientRect().bottom>=window.innerHeight&&(i.remove(),e.css("opacity",1),e.removeClass("fixed"),e.triggerHandler("fixation-change"),t=!1);else if(r||e[0].getBoundingClientRect().bottom<window.innerHeight){var n=e[0].offsetHeight;i.insertAfter(e),e.css("opacity",a),e.addClass("fixed"),e.triggerHandler("fixation-change"),$("body").css("padding-bottom",n),e.find(".lazy").on("lazyload",function(){if(t){var i=e[0].offsetHeight;n!==i&&(n=i,$("body").css("height",n))}}),t=!0}};$(document).on("scroll",n),n()}}),creatium.init.global(function r(){return $.fancybox?void $(document).off("click.fb-start"):setTimeout(function(){r(event)},50)}),creatium.waitForAppear(".fancybox",function(e){var t=$(e),i=t.attr("data-group"),a=[],r=0;if(i){var n=$('.fancybox[data-group="'+i+'"]');n.each(function(){a.push({src:$(this).attr("href")}),$(this).attr("href")===t.attr("href")&&(r=n.index(t))})}else if(t.closest(".node").is(".widget-gallery-image")){var n=t.closest(".widget-gallery").find(".fancybox");n.each(function(){a.push({src:$(this).attr("href")}),$(this).attr("href")===t.attr("href")&&(r=n.index(t))})}else a.push({src:t.attr("href")});t.on("click",function o(e){return e.preventDefault(),$.fancybox?void $.fancybox.open(a,{loop:!0,lang:"en",i18n:{en:{CLOSE:"",NEXT:"",PREV:"",ERROR:"The requested content cannot be loaded. <br/> Please try again later.",PLAY_START:"",PLAY_STOP:"",FULL_SCREEN:"",THUMBS:"",DOWNLOAD:"",SHARE:"",ZOOM:""}},buttons:["zoom","close"]},r):setTimeout(function(){o(e)},50)})}),creatium.init.global(function(){if(creatium.cookies.alert&&creatium.store.get("cookies-alert-closed")!==!0){var e=$('<div class="cookies-alert"></div>').appendTo(".area-wrapper");$('<i class="fa fa-times"></i>').appendTo(e).on("click",function(){creatium.store.set("cookies-alert-closed",!0),e.animate({opacity:0},500)}),$('<div class="text"></div>').html(creatium.cookies.message).appendTo(e),e.css({opacity:0}).animate({opacity:1},1e3)}}),creatium.scroll.snapping=creatium.scroll.snapping&&"scrollSnapType"in document.documentElement.style,creatium.scrollTo=function(e,t){t=t||0,$(creatium).triggerHandler("before-scroll-to");var i,a=$(".section.fixation-top:visible:first"),r=$("html, body"),n=e.closest(".modal");if(n.length){r=n;for(var o=_.last(creatium.modals.list).$el;o[0]!==n[0];)creatium.modals.hide(o),o=_.last(creatium.modals.list).$el}else if(creatium.modals.hideAll(),creatium.scroll.snapping)e=e.closest(".section"),r=$(".area-wrapper"),$(".area-wrapper").addClass("scroll-snap-cancel");else if(a.length){var l=e.closest(".section").index(".section"),s=a.index(".section");s<l&&(t-=a.height())}i=e.get(0).getBoundingClientRect().top+r.scrollTop()+t,r.stop().animate({scrollTop:i},{duration:1e3,easing:"easeInOutCubic",step:_.throttle(function(i,a){a.end=e.get(0).getBoundingClientRect().top+r.scrollTop()+t},100,{trailing:!1}),always:function(){creatium.scroll.snapping&&$(".area-wrapper").removeClass("scroll-snap-cancel")}}),$(creatium).triggerHandler("after-scroll-to")},creatium.init.global(function(){if("#"===location.hash[0]){var e=$(location.hash);e.length&&creatium.scrollTo(e)}var t=location.href.match(/scrollblock=(\d+)/);if(t){var i=location.href.match(/scrolloffset=(-?\d+)/),a=i.length?1*i[1]:0,r=1*t[1],n=$(".node.section").eq(r);if(!n.length)throw new Error("lib-scroll trying to scroll to unexisting "+r+" block");var o=n.offset().top+a;$(document).scrollTop(o)}creatium.scroll.snapping&&$(".area-wrapper").addClass("scroll-snap")}),creatium.init.local(function(e){(new WOW).init(),e.find(".wow").removeClass("wow"),e.find('[data-action="formscroll"]').each(function(){var e=$(this),t=e.closest(".section"),i=t.prevAll(".section"),a=t.nextAll(".section"),r=e.hasClass("btn")||e.hasClass("btn-meta")?e:e.find(".btn, .btn-meta");r.on("click",function(){var e=a.find(".form:visible, [data-form]:visible").first();if(1===e.length)return void creatium.scrollTo(e,-100);var r=t.find(".form:visible, [data-form]:visible").first();if(1===r.length)return void creatium.scrollTo(r,-100);var n=i.find(".form:visible, [data-form]:visible").last();return 1===n.length?void creatium.scrollTo(n,-100):void 0})}),creatium.lazy.add(e.find('a[href*="#"]'),function(e){var t=e.attr("href"),i=t.match(/(.*)#/)[1],a=t.match(/#.*/)[0];if("#"!==a&&(i=i.replace("https://"+location.host,""),i=i.replace("http://"+location.host,""),i=i.replace("//"+location.host,""),!i.length||i===location.pathname)){try{var r=$(a)}catch(n){return}if(r.length){var o=e.children('.btn[data-highlight="true"], .btn-meta[data-highlight="true"]');o.length&&$(document).on("scroll",function(){var e=r[0].getBoundingClientRect(),t=window.innerHeight/2;e.top<t&&e.bottom>t?o.hasClass("hover")||o.addClass("hover"):o.hasClass("hover")&&o.removeClass("hover")}),e.on("click",function(t){if(!t.isDefaultPrevented()){var i=e.closest(".is-expanded[cr-hamburger-menu]");i.length&&i.trigger("instant-hide"),creatium.scrollTo(r),t.preventDefault()}})}}})}),function n(){return window.Snowfall?void creatium.waitForAppear(".node[data-bgsnow]",function(e){var t=$(e);t.data("bgsnow");t.removeAttr("data-bgsnow");var i=new Snowfall({root:t.find("> .wrapper1 > .wrapper2").get(0),type:"text",content:["*","&#10052","&#10053","&#10054","."],minSize:10,maxSize:30});t.data("bgsnow",i)}):setTimeout(n,50)}(),creatium.init.global(function(){var e=$(".section-zero.fullheight").filter(function(){var e=$(this);return e.data("initial_height",parseInt(e.css("height"))),e.data("last_height",e.data("initial_height")),!0}),t=$(".section.fullheight").not(".section-zero").filter(function(){var e=$(this),t=e.children(".padding_top");if(!t.length)return!1;var i=e.children(".padding_bottom");return e.data("initial_padding_top",parseInt(t.css("padding-top"))),e.data("initial_padding_bottom",parseInt(i.css("padding-bottom"))),e.data("last_padding_top",e.data("initial_padding_top")),e.data("last_padding_bottom",e.data("initial_padding_bottom")),!0});if(e.length+t.length!==0){var i=function(){e.each(function(){var e=$(this),t=e.find(".zero-grid, .zero-layer-axis").filter(function(){return $(this).closest(".node")[0]===e[0]}),i=e.data("initial_height"),a=e.data("last_height"),r=e.height(),n=window.innerHeight-r,o=a+n;o<i&&(o=i),o!==a&&(t.css("height",o),e.data("last_height",o))}),t.each(function(){var e=$(this),t=e.children(".padding_top"),i=e.children(".padding_bottom"),a=e.data("initial_padding_top"),r=e.data("initial_padding_bottom"),n=e.data("last_padding_top"),o=e.data("last_padding_bottom"),l=e.height(),s=window.innerHeight-l,c="middle";if(e.hasClass("fullheight-top")&&(c="top"),e.hasClass("fullheight-bottom")&&(c="bottom"),"top"===c)var d=n,u=o+s;else if("middle"===c)var d=n+s/2,u=o+s/2;else if("bottom"===c)var d=n+s,u=o;d<a&&(d=a),u<r&&(u=r),d!==n&&(t.css("padding-top",d),e.data("last_padding_top",d)),u!==o&&(i.css("padding-bottom",u),e.data("last_padding_bottom",u))})};$(window).on("resize",_.debounce(i,100)),i()}}),function(){var e=function(t){e.started!==!0&&($.getScript("https://api-maps.yandex.ru/2.1/?lang=ru-RU"),e.started=!0),window.ymaps?ymaps.ready(t):setTimeout(function(){e(t)},250)},t=function(e){t.started!==!0&&($.getScript("https://maps.googleapis.com/maps/api/js?key=TODOKEYHERE&language=ru&libraries=places"),
t.started=!0),window.google?e():setTimeout(function(){t(e)},250)};creatium.init.local(function(i){i.find(".macros-map").each(function(){var i=$(this).children(".map"),a=i.data("service");i.data("params");"yandex"===a?creatium.lazy.add(i,function(){e(function(){var e=i.data("params"),t=new ymaps.Map(i.attr("id"),{center:e.center,type:e.type,zoom:e.zoom,controls:[]});t.behaviors.disable(["scrollZoom"]);var a=new ymaps.GeoObject({geometry:{type:"Point",coordinates:e.point}},{draggable:!1});t.geoObjects.add(a),t.controls.add("zoomControl",{"float":"left",position:{left:10,top:10}}).add("typeSelector",{"float":"right"})})}):"google"===a&&creatium.lazy.add(i,function(){t(function(){var e=i.data("params"),t=new google.maps.Map(i[0],{zoom:e.zoom,center:new google.maps.LatLng(e.center[0],e.center[1]),mapTypeId:e.type,fullscreenControl:!0,rotateControl:!0,streetViewControl:!1,scrollwheel:!1});new google.maps.Marker({position:new google.maps.LatLng(e.point[0],e.point[1]),map:t,draggable:!1})})})})})}(),creatium.init.global(function(){if(location.href.indexOf("debug-size=1")>0){var e=0,t=0;$(".node:not(.section-helper)").each(function(){var i=$(this).html().length;$(this).find(".modal-link").each(function(){i+=$('.modal[data-uid="'+$(this).data("uid")+'"]').html().length}),$(this).is(".section")&&(e+=i,t=Math.max(t,i)),$(this).data("size",i)}),$(".section:not(.section-helper)").each(function(){var t=$(this).data("size"),i=Math.round(t/e*1e3)/10;$("<div>").css({background:"black",color:"white",padding:"10px",textAlign:"center"}).html("↓ Размер секции: "+t+". Это "+i+"% от всей страницы ↓").insertBefore(this)});var i=$("<div>").css({position:"fixed",background:"black",color:"white",padding:"10px",left:"20px",bottom:"20px",zIndex:2e5}).appendTo("body");$(".area").mousemove(function(t){$(".node").css("outline","");var a=$(t.target).closest(".node");if(a.length){a.css("outline","3px solid black");var r=a.data("size"),n=Math.round(r/e*1e3)/10;i.show().text(r+", "+n+"%")}})}}),creatium.cdn={files:{},init:function(){$(document.body).find(".component-js-fn").each(function(){var e=$(this).data("cdn")||[];e.length||e.forEach(function(e){creatium.cdn.load(e,function(){})})})},load:function(e,t){creatium.cdn.files[e]?creatium.cdn.files[e].loaded?t():creatium.cdn.files[e].callbacks.push(t):(creatium.cdn.files[e]={loaded:!1,callbacks:[t]},"css"===_.last(e.split("."))?creatium.cdn.loadStyle(e):"js"===_.last(e.split("."))?creatium.cdn.loadScript(e):console.error("CDN file should be .js or .css"))},loadStyle:function(e){var t=document.createElement("link");t.setAttribute("type","text/css"),t.setAttribute("rel","stylesheet"),t.setAttribute("href",e),document.head.appendChild(t),setTimeout(function(){creatium.cdn.files[e].loaded=!0,creatium.cdn.files[e].callbacks.forEach(function(e){e()})})},loadScript:function(e){var t=document.createElement("script");t.onload=function(){creatium.cdn.files[e].loaded=!0,creatium.cdn.files[e].callbacks.forEach(function(e){e()})},t.onerror=t.onload,t.setAttribute("async",""),t.setAttribute("type","text/javascript"),t.setAttribute("src",e),document.head.appendChild(t)}},creatium.init.local(function(e){e.find(".component-js-fn").each(function(){var e=window["_component_js_"+$(this).data("name")],t=$(this).closest(".node")[0],i=$(this).data("lazy"),a=$(this).data("cdn")||[],r=$(this).data("params");a=a.map(function(e){return e.trim()}).filter(function(e){return e.length});var n=function(){creatium.api(function(a){var n=function(){try{e(a,t,r)}catch(i){console.error("Component JS error",this,i)}};i?a.waitForLazy(t,n):n()})};a.length?a.forEach(function(e){creatium.cdn.load(e,function(){var e=!0;a.forEach(function(t){creatium.cdn.files[t].loaded===!1&&(e=!1)}),e===!0&&n()})}):n()})}),function(){var e=creatium.api.queue;creatium.api=function(t,i){if(t instanceof Function&&(i=t,t="v1"),"v1"!==t)throw new Error("Unknown API version");creatium.init.fired?i(creatium.api.v1.Page.create()):e.push([t,i])},creatium.api.init=_.once(function(){e.forEach(function(e){creatium.api(e[0],e[1])}),creatium.api.initialized=!0,$(creatium).triggerHandler("api-init")}),creatium.api.v1={},creatium.api.v1.factory=function(e,t,i,a,r){var n={};e.forEach(function(e){_.each(e.methods,function(e,t){if(n.hasOwnProperty(t))throw new Error("Property "+t+" already exists");n[t]=e})});var o=Object.create(n);return Object.defineProperty(o,"classes",{value:_.without(_.map(e,"name"),"Emmiter")}),e.forEach(function(e){e.initialize.call(o,t,i,a,r)}),o},creatium.api.v1.defineLazyProperty=function(e,t,i){Object.defineProperty(e,t,{configurable:!0,get:function(){var a=i.call(this);return Object.defineProperty(e,t,{configurable:!1,value:a}),a}})},Object.defineProperty(window,"_page",{configurable:!0,get:function(){var e=!1,t=document.createElement("console-api-initiation");if(Object.defineProperty(t,"id",{get:function(){e=!0}}),console.dir(t),e)return Object.defineProperty(window,"_page",{value:creatium.api.v1.Page.create()}),window._page;throw new Error("_page доступен только в консоли браузера")}})}(),function(e){e.Button={name:"Button",initialize:function(e){Object.defineProperty(this,"isActive",{get:function(){return e.find(".btn, .btn-meta").hasClass("active")}})},events:[],methods:{setActive:function(e){e&&!this.isActive&&$(this.el).find(".btn, .btn-meta").addClass("active"),!e&&this.isActive&&$(this.el).find(".btn, .btn-meta").removeClass("active")}}}}(creatium.api.v1),function(e){e.Cart={name:"Cart",instance:null,initialize:function(){Object.defineProperty(this,"items",{get:function(){return creatium.cart.list.map(function(t){return e.CartItem.create(t)})}}),Object.defineProperty(this,"subtotal",{get:function(){var e=0;return _.each(creatium.cart.list,function(t){var i=1*_.filter(t,{type:"amount"})[0].value,a=_.filter(t,{type:"price"})[0].value;e+=creatium.cart.getPrice(a)*i}),e}}),$(creatium).on("api-cart-item-add",function(t,i){e.Emmiter.emit(this,"item-add",null,{item:e.CartItem.create(i)})}.bind(this)),$(creatium).on("api-cart-item-remove",function(t,i){e.Emmiter.emit(this,"item-remove",null,{item:e.CartItem.create(i)})}.bind(this));var t=this.subtotal;$(creatium).on("cart-change",function(i,a){var r=this.subtotal;t!==r&&(e.Emmiter.emit(this,"subtotal-change",null,{oldSubtotal:t,subtotal:r}),t=r)}.bind(this))},events:["subtotal-change","item-add","item-remove"],methods:{addItem:function(t){var i=e.CartItem.create([{name:"Название товара",type:"title",value:t.title||"Новый товар"},{name:"Цена товара",type:"price",value:t.price||"400 руб."},{name:"Фото товара",type:"photo",value:t.image||null},{name:"Количество",type:"amount",value:t.quantity||1}]);return creatium.cart.add(i._item,!0),i},removeItem:function(e){return creatium.cart.list.indexOf(e._item)<0?void console.error("Cart item is already removed"):void creatium.cart.remove(e._item)}},create:function(){return e.Cart.instance?e.Cart.instance:(e.Cart.instance=e.factory([e.Emmiter,e.Cart]),e.Cart.instance)}}}(creatium.api.v1),function(e){e.CartItem={name:"CartItem",instances:[],initialize:function(e){Object.defineProperty(this,"_item",{value:e}),Object.defineProperty(this,"title",{get:function(){var e=_.filter(this._item,{type:"title"})[0];return e.value}}),Object.defineProperty(this,"price",{get:function(){var e=_.filter(this._item,{type:"price"})[0];return e.value}}),Object.defineProperty(this,"quantity",{get:function(){var e=_.filter(this._item,{type:"amount"})[0];return e.value}}),Object.defineProperty(this,"image",{get:function(){var e=_.filter(this._item,{type:"photo"})[0];return e.value||null}})},events:[],methods:{setTitle:function(e){var t=_.filter(this._item,{type:"title"})[0];t.value=e,$(creatium).triggerHandler("cart-change")},setPrice:function(e){var t=_.filter(this._item,{type:"price"})[0];t.value=e,$(creatium).triggerHandler("cart-change")},setQuantity:function(e){var t=_.filter(this._item,{type:"amount"})[0];t.value=e,$(creatium).triggerHandler("cart-change")},setImage:function(e){var t=_.filter(this._item,{type:"photo"})[0];t.value=e,$(creatium).triggerHandler("cart-change")}},create:function(t){var i=e.CartItem.instances.find(function(e){return e._item===t});return i?i:(i=e.factory([e.CartItem],t),e.CartItem.instances.push(i),i)}}}(creatium.api.v1),function(e){e.Component={name:"Component",initialize:function(e){Object.defineProperty(this,"el",{value:e[0]})},events:[],methods:{getComponentsByClass:function(t){return e.Page.instance.getComponentsByClass(t,this.el)},show:function(){$(this.el).show()},hide:function(){$(this.el).hide()}},create:function(t){var i=t.data("api.Component");if(i)return i;if(!t.hasClass("node"))return null;t.hasClass("widget-form")&&console.error("Предупреждение: Старые формы не подключены к API"),"wait"===t.data("lazy-state")&&(creatium.lazy.trigger(t[0]),console.warn("Force lazy init",t));var a=[e.Emmiter,e.Component];return t[0].classList.contains("section")&&a.push(e.Section),t[0].classList.contains("section-slider")&&a.push(e.Slider),t[0].classList.contains("widget-slider")&&a.push(e.Slider),t[0].classList.contains("widget-tabs")&&a.push(e.Slider),t[0].classList.contains("widget-spoiler")&&a.push(e.Spoiler),t[0].classList.contains("widget-countdown")&&a.push(e.Countdown),t[0].classList.contains("widget-form2")&&a.push(e.Form),t[0].classList.contains("widget-field")&&a.push(e.Field),t[0].classList.contains("widget-button")&&a.push(e.Button),t[0].classList.contains("widget-menu-button")&&a.push(e.Button),t[0].classList.contains("widget-hover")&&a.push(e.Hover),i=e.factory(a,t),t.data("api.Component",i),i}}}(creatium.api.v1),function(e){e.Countdown={name:"Countdown",initialize:function(t){Object.defineProperty(this,"isExpired",{get:function(){return $(this.el).data("api-expired")===!0}}),Object.defineProperty(this,"until",{get:function(){return $(this.el).data("api-until")}}),t.on("api-tick",function(){e.Emmiter.emit(this,"tick")}.bind(this)),t.on("api-expiry",function(){e.Emmiter.emit(this,"expiry")}.bind(this))},events:["tick","expiry"],methods:{setUntil:function(e){$(this.el).data("api-setUntil")(e)}}}}(creatium.api.v1),function(e){e.Emmiter={name:"Emmiter",initialize:function(){Object.defineProperty(this,"_events",{value:{}}),this.classes.forEach(function(t){e[t].events&&e[t].events.forEach(function(e){Object.defineProperty(this._events,e,{value:[]})}.bind(this))}.bind(this))},methods:{on:function(e,t){this._events[e]?this._events[e].push(t):console.warn('Предупреждение: События "'+e+'" не существует.')},once:function(e,t){this.on(e,function i(){this.off(e,i),t.apply(this,[].slice.call(arguments,0))}.bind(this))},off:function(e,t){this._events[e]&&this._events[e].splice(this._events[e].indexOf(t)>>>0,1)}},emit:function(t,i,a,r){if(!t._events[i])throw new Error("No such event");a=a||{};var n=e.Event.create(i,{prevent:a.prevent||_.noop,isPrevented:a.isPrevented===!0},r);t._events[i].slice().map(function(e){try{e.call(t,n)}catch(i){console.error(i)}a.intermediate&&a.intermediate.call(t,n)})}}}(creatium.api.v1),function(e){e.Event={name:"Event",initialize:function(e,t,i){_.each(i||{},function(e,t){Object.defineProperty(this,t,{value:e})},this),Object.defineProperty(this,"type",{value:e}),Object.defineProperty(this,"cancelable",{value:t.prevent instanceof Function}),Object.defineProperty(this,"isPrevented",{configurable:!0,value:t.isPrevented||!1}),Object.defineProperty(this,"prevent",{value:function(){this.cancelable&&!this.isPrevented&&(t.prevent(),Object.defineProperty(this,"isPrevented",{value:!0}))}.bind(this)})},methods:{},create:function(t,i,a){return e.factory([e.Event],t,i,a)}}}(creatium.api.v1),function(e){e.Field={name:"Field",initialize:function(t){Object.defineProperty(this,"form",{value:e.Page.instance.getComponent(t.closest(".widget-form2")[0])}),Object.defineProperty(this,"el",{value:t[0]});var i=t.find(".metahtml").data("vals");Object.defineProperty(this,"name",{value:i.text}),Object.defineProperty(this,"type",{value:function(){return"name"===i.type?"name":"phone"===i.type?"phone":"email"===i.type?"email":void 0}()}),Object.defineProperty(this,"uid",{value:i.id}),Object.defineProperty(this,"variable",{value:i.variable}),Object.defineProperty(this,"isRequired",{value:i.required}),Object.defineProperty(this,"hasCondition",{value:i.condition.length}),Object.defineProperty(this,"value",{get:function(){return t.data("api-value")}}),Object.defineProperty(this,"isDisabled",{get:function(){return t.data("api-disabledManually")||t.data("api-disabledByCondition")}}),t.on("api-disable",function(){e.Emmiter.emit(this,"disable")}.bind(this)),t.on("api-enable",function(){e.Emmiter.emit(this,"enable")}.bind(this)),t.on("api-change",function(){e.Emmiter.emit(this,"change")}.bind(this))},events:["change","disable","enable"],methods:{disable:function(){$(this.el).data("api-disabledManually",!0),$(this.form.el).triggerHandler("input")},enable:function(){$(this.el).data("api-disabledManually",!0),$(this.form.el).triggerHandler("input")},setValue:function(e){var t=$(this.el).data("api-setValue");t&&t(e),this.form.__redrawRequested||(this.form.__redrawRequested=!0,window.requestAnimationFrame(function(){$(this.form.el).triggerHandler("input"),delete this.form.__redrawRequested}.bind(this)))},addValidationRule:function(e,t){var i=$(this.el).data("api-validations")||[];i.push({cb:e,message:t}),$(this.el).data("api-validations",i)},removeValidationRule:function(e){var t=$(this.el).data("api-validations")||[];$(this.el).data("api-validations",_.without(t,{cb:e}))}}}}(creatium.api.v1),function(e){e.Form={name:"Form",initialize:function(t){creatium.lazy.then(t,function i(){var t=$(this.el).data("api-swiper");return t?(t.on("slideChangeTransitionStart",function(){e.Emmiter.emit(this,"before-step-change",{prevent:function(){console.error("Отмена перелистывания еще не работает")}.bind(this)},{previousIndex:t.previousIndex,activeIndex:t.activeIndex})}.bind(this)),void t.on("slideChangeTransitionEnd",function(){e.Emmiter.emit(this,"step-change",null,{previousIndex:t.previousIndex,activeIndex:t.activeIndex})}.bind(this))):setTimeout(i.bind(this),100)}.bind(this)),Object.defineProperty(this,"name",{get:function(){return t.data("api-name")}}),Object.defineProperty(this,"isQuiz",{value:t.data("api-isQuiz")}),Object.defineProperty(this,"isValid",{get:function(){return 0===t.data("api-errors").length}}),e.defineLazyProperty(this,"fields",function(){var i=[];return _.each(t.data("api-$fields"),function(t,a){e.defineLazyProperty(i,a,function(){return e.Component.create($(t))}.bind(this))}.bind(this)),i}),t.on("api-submit",function(t,i,a){e.Emmiter.emit(this,"submit",null,{orderId:i,fields:a})}.bind(this))},events:["before-submit","submit","before-step-change","step-change"],methods:{recalculate:function(){$(this.el).trigger("input")},reset:function(){$(this.el).trigger("reset")},submit:function(){$(this.el).trigger("submit")},setName:function(e){$(this.el).data("api-name",e.toString())}}}}(creatium.api.v1),function(e){e.Hover={name:"Hover",initialize:function(t){t.on("api-before-over",function(){e.Emmiter.emit(this,"before-over")}.bind(this)),t.on("api-over",function(){e.Emmiter.emit(this,"over")}.bind(this)),t.on("api-before-out",function(){e.Emmiter.emit(this,"before-out")}.bind(this)),t.on("api-out",function(){e.Emmiter.emit(this,"out")}.bind(this))},events:["before-over","over","before-out","out"],methods:{}}}(creatium.api.v1),function(e){e.Page={name:"Page",instance:null,initialize:function(){Object.defineProperty(this,"id",{value:creatium.page_id}),e.defineLazyProperty(this,"cart",function(){return e.Cart.create()}),$(creatium).on("api-popup-show",function(t,i){e.Emmiter.emit(this,"popup-show",null,{popup:e.Popup.create($(i.el))})}.bind(this)),$(creatium).on("api-popup-hide",function(t,i){e.Emmiter.emit(this,"popup-hide",null,{popup:e.Popup.create($(i.el))})}.bind(this)),$(creatium).on("api-before-form-submit",function(t,i,a){var r=e.Component.create(i),n=a.map(function(e){return e._key=_.uniqueId("field"),{name:e.name,value:e.value,uid:e.id,_key:e._key}}),o=function(e){e.fields.forEach(function(e){"string"!=typeof e.uid&&(e.uid="")})},l=function(e){i.data("api-prevent",!0)};e.Emmiter.emit(r,"before-submit",{intermediate:o,prevent:l},{fields:n}),e.Emmiter.emit(this,"before-form-submit",{intermediate:o,isPrevented:i.data("api-prevent")===!0,prevent:l},{form:r,fields:n});var s=_.clone(a);a.splice(0,a.length),n.forEach(function(e){if(e._key)var t=_.find(s,{_key:e._key});t?(e.type=t.type,e.required=t.required):("number"==typeof e.type?e.type="number":e.type="string",e.required=!1),a.push({name:e.name,value:e.value,id:e.uid,required:e.required,type:e.type})})}.bind(this)),$(creatium).on("api-form-submit",function(t,i,a,r){e.Emmiter.emit(this,"form-submit",null,{form:e.Component.create(i),orderId:a,fields:r})}.bind(this))},events:["before-form-submit","form-submit","popup-show","popup-hide"],methods:{waitForAppear:function(e,t){return creatium.waitForAppear(e,t)},waitForLazy:function(e,t){return creatium.waitForAppear(e,function(e){var i=$(e);"wait"===i.data("lazy-state")?i.one("lazy-trigger",function(){t(i)}):"done"===i.data("lazy-state")?t(i):creatium.lazy.add(i,function(i){t(e)})})},lazy:function(e,t){return this.waitForLazy(e,t)},scrollTo:function(e,t){if("string"==typeof e&&(e=document.getElementById(e)),!(e instanceof Element))throw new Error("Unknown element");creatium.scrollTo($(e),t)},scrollToTop:function(){creatium.scrollTo($(".area"))},getPopup:function(t){var i=$(".modal").filter(function(){return $(this).attr("data-id")===t});return i.length?e.Popup.create(i):null},getComponent:function(t){if("string"==typeof t){var i=document.getElementById(t);if(!i)for(var a=creatium.async.cuts,r=0;r<a.length;r++)if(!a[r].attached&&null!==a[r].placeholder&&0!==a[r].key.indexOf("svg")&&(a[r].el||(a[r].el=$.parseHTML(a[r].html)[0]),i=a[r].el.querySelector("#"+t))){creatium.lazy.trigger(a[r].placeholder);break}}else if(t instanceof Element)var i=t;else{if(!(t instanceof $&&t[0]instanceof Element))return null;var i=t[0]}return e.Component.create($(i))},getComponentsByClass:function(t,i){i instanceof Element||(i=document);var a=[];return i.querySelectorAll("div[data-cut], ."+t).forEach(function(i){var r=i.getAttribute("data-cut");if(r){var n=_.find(creatium.async.cuts,{key:r});n.el||(n.el=$.parseHTML(n.html)[0]);var o=!1;n.el.querySelectorAll("."+t).forEach(function(t){var i=e.Page.instance.getComponent(t);i&&(a.push(i),o=!0)}),o&&creatium.lazy.trigger(n.placeholder)}else{var l=e.Page.instance.getComponent(i);l&&a.push(l)}}),a},closeTopPopup:function(){creatium.modals.hide()},closeAllPopups:function(){creatium.modals.hideAll()},showSuccessMessage:function(e,t){creatium.msg_success(e,t)},showInformationMessage:function(e,t){creatium.msg_info(e,t)},showErrorMessage:function(e,t){creatium.msg_error(e,t)},createPortal:function(t){return e.Portal.create(t)}},create:function(){return e.Page.instance?e.Page.instance:(e.Page.instance=e.factory([e.Emmiter,e.Page]),e.Page.instance)}}}(creatium.api.v1),function(e){e.Popup={name:"Popup",initialize:function(t){Object.defineProperty(this,"el",{value:t[0]}),Object.defineProperty(this,"id",{value:this.el.getAttribute("data-id")}),Object.defineProperty(this,"_modal",{value:t.data("modal")}),t.on("before-show",function(){e.Emmiter.emit(this,"before-show",{prevent:function(){this._modal.api_prevent=!0}.bind(this)})}.bind(this)),t.on("show",function(){e.Emmiter.emit(this,"show")}.bind(this)),t.on("before-hide",function(){e.Emmiter.emit(this,"before-hide",{prevent:function(){this._modal.api_prevent=!0}.bind(this)})}.bind(this)),t.on("hide",function(){e.Emmiter.emit(this,"hide")}.bind(this)),Object.defineProperty(this,"isShown",{get:function(){return!!creatium.modals.list.find(function(e){return e.el=this.el}.bind(this))}})},events:["show","hide","before-hide","before-show"],methods:{getComponentsByClass:function(t){return this._modal.attached||console.warn("Предупреждение: Окно не прикреплено к странице."),e.Page.instance.getComponentsByClass(t,this.el)},attach:function(){creatium.modals.attach($(this.el))},show:function(){creatium.modals.show($(this.el))},hide:function(){creatium.modals.hide($(this.el))}},create:function(t){var i=t.data("api.Popup");return i?i:(i=e.factory([e.Emmiter,e.Popup],t),t.data("api.Popup",i),i)}}}(creatium.api.v1),function(e){e.Portal={name:"Portal",initialize:function(e){Object.defineProperty(this,"el",{value:e[0]})},events:[],methods:{},create:function(t){var i=$('<div class="cr-portal">'),a=$(t).closest(".metahtml");a.length&&i.addClass(a.attr("class"));var r=$(t).closest(".modal");if(r.length)i.appendTo(".area-wrapper").css("z-index",900);else{var n=$(t).closest(".node.section");n.length&&i.appendTo(".area-wrapper").css("z-index",805)}return i.data("portal-parent",t.parentElement),i.append(t),e.factory([e.Emmiter,e.Portal],i)}}}(creatium.api.v1),function(e){e.Section={name:"Section",initialize:function(t){t.on("fixation-change",function(){e.Emmiter.emit(this,"sticky-change",null,{isStuck:this.isStuck})}.bind(this)),Object.defineProperty(this,"isSticky",{value:$(this.el).hasClass("fixation")}),Object.defineProperty(this,"isStuck",{get:function(){return this.el.classList.contains("fixed")}})},events:["sticky-change"]}}(creatium.api.v1),function(e){e.Slide={name:"Slide",initialize:function(e,t){Object.defineProperty(this,"slider",{value:t}),Object.defineProperty(this,"el",{value:e[0]}),Object.defineProperty(this,"index",{value:e.index(".swiper-slide")}),Object.defineProperty(this,"isFirst",{value:0===this.index}),Object.defineProperty(this,"isLast",{value:this.index===this.slider.slides.length-1}),Object.defineProperty(this,"isActive",{get:function(){return this.slider.activeIndex===this.index}})},events:[],methods:{slideTo:function(){return this.slider.slideTo(this.index)},getComponentsByClass:function(t){return e.Page.instance.getComponentsByClass(t,this.el)}},create:function(t,i){var a=t.data("api.Slide");return a?a:(a=e.factory([e.Emmiter,e.Slide],t,i),t.data("api.Slide",a),a)}}}(creatium.api.v1),function(e){e.Slider={name:"Slider",initialize:function(t){var i=$(this.el).data("api-swiper");i.on("slideChangeTransitionStart",function(){e.Emmiter.emit(this,"before-slide-change",{prevent:function(){console.error("Отмена перелистывания еще не работает")}.bind(this)},{previousIndex:i.previousIndex,activeIndex:i.activeIndex})}.bind(this)),i.on("slideChangeTransitionEnd",function(){e.Emmiter.emit(this,"slide-change",null,{previousIndex:i.previousIndex,activeIndex:i.activeIndex})}.bind(this)),i.on("slideNextTransitionStart",function(){e.Emmiter.emit(this,"before-slide-next",{prevent:function(){console.error("Отмена перелистывания еще не работает")}.bind(this)},{previousIndex:i.previousIndex,activeIndex:i.activeIndex})}.bind(this)),i.on("slideNextTransitionEnd",function(){e.Emmiter.emit(this,"slide-next",null,{previousIndex:i.previousIndex,activeIndex:i.activeIndex})}.bind(this)),i.on("slidePrevTransitionStart",function(){e.Emmiter.emit(this,"before-slide-prev",{prevent:function(){console.error("Отмена перелистывания еще не работает")}.bind(this)},{previousIndex:i.previousIndex,activeIndex:i.activeIndex})}.bind(this)),i.on("slidePrevTransitionEnd",function(){e.Emmiter.emit(this,"slide-prev",null,{previousIndex:i.previousIndex,activeIndex:i.activeIndex})}.bind(this)),i.on("reachEnd",function(){e.Emmiter.emit(this,"reach-end",null,{previousIndex:i.previousIndex,activeIndex:i.activeIndex})}.bind(this)),e.defineLazyProperty(this,"_swiper",function(){return $(this.el).data("api-swiper")}),e.defineLazyProperty(this,"slides",function(){var t=[];return _.each(this._swiper.slides,function(i,a){e.defineLazyProperty(t,a,function(){return e.Slide.create($(i),this)}.bind(this))}.bind(this)),t}),e.defineLazyProperty(this,"isLoop",function(){return this._swiper._params.loop===!0}),Object.defineProperty(this,"activeIndex",{get:function(){return this._swiper.activeIndex}}),Object.defineProperty(this,"isAnimating",{get:function(){return this._swiper.animating}}),Object.defineProperty(this,"isBeginning",{get:function(){return this._swiper.isBeginning}}),Object.defineProperty(this,"isEnd",{get:function(){return this._swiper.isEnd}})},events:["before-slide-change","slide-change","before-slide-next","slide-next","before-slide-prev","slide-prev","reach-end"],methods:{slideTo:function(e){return!(e<0)&&(!(e>=this.slides.length)&&(e!==this.activeIndex&&(this._swiper.slideTo(e),!0)))},slideNext:function(){return $(this.el).triggerHandler("slidenext"),this.isAnimating},slidePrev:function(){return $(this.el).triggerHandler("slideprev"),this.isAnimating}}}}(creatium.api.v1),function(e){e.Spoiler={name:"Spoiler",initialize:function(t){t.on("api-before-toggle",function(){var i=function(){t.data("api-prevent",!0)};this.isCollapsed?e.Emmiter.emit(this,"before-expand",{prevent:i}):e.Emmiter.emit(this,"before-collapse",{prevent:i}),e.Emmiter.emit(this,"before-toggle",{prevent:i})}.bind(this)),t.on("api-toggle",function(){Object.defineProperty(this,"isCollapsed",{configurable:!0,value:!this.isCollapsed}),this.isCollapsed?e.Emmiter.emit(this,"collapse"):e.Emmiter.emit(this,"expand"),e.Emmiter.emit(this,"toggle")}.bind(this)),Object.defineProperty(this,"isCollapsed",{configurable:!0,value:t.data("api-isCollapsed")})},events:["before-collapse","collapse","before-expand","expand","before-toggle","toggle"],methods:{collapse:function(){this.isCollapsed||$(this.el).triggerHandler("toggle")},expand:function(){this.isCollapsed&&$(this.el).triggerHandler("toggle")},toggle:function(){$(this.el).triggerHandler("toggle")}}}}(creatium.api.v1)}($,_);
